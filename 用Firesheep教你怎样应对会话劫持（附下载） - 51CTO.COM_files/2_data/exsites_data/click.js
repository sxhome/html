function GetQueryString(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i");var c=window.location.search.substr(1).match(b);if(c!=null){return(c[2])}return null}function antcheat(){var m=window.location.host;if(m.indexOf("re.m.jd.com")>=0||m.indexOf("re.jd.com")>=0){window.stamp=13;$("a[href^='http://ccc.x.jd.com']").die().live("click",h)}else{var k=document.getElementsByTagName("a");for(i=0;i<k.length;i++){var d=k[i];if(d&&d.addEventListener){d.addEventListener("click",h,false)}else{d.attachEvent("onclick",h)}}}var f=document.body;var n=[];var c=new Date().getTime();var a=new Date().getTime();var l=null;var j=GetQueryString("clkmn");function h(y){if(j!=null){var t=document.createElement("script");t.src=decodeURIComponent(j);document.body.appendChild(t)}var r=n.length<12?1:parseInt(n.length/12);var o=[];for(var s=0;s<11;s++){var u=n[s*r];if(u==null){break}o.push([u.x,u.y])}u=b(y);if(u==null){return}o.push([u.x,u.y]);o.unshift([n.length,a-c,a-l]);l=null;window.move_info=o.join("|");try{var t=y||window.event;var u=b(t);var A=t.target||t.srcElement;while(A.tagName!="A"){A=A.parentNode}var p=A.getAttribute("href");var z=p;var q="";if(z.search(/^https?:\/\/ccc.x.jd.com/g)!=0){var v=p.match(/=http.*ccc.*x.*jd.*com.*($|&)/g);p=decodeURIComponent(v[0])}n=[];var w=p.indexOf("ac=")>0?p.replace(/&?ac=.*($|&)/g,"").replace(/https?:\/\//,""):p.replace(/https?:\/\//,"");var r=parseInt(w.length/12);for(var s=0;s<12;s++){q+=(w.charCodeAt(s*r)%stamp).toString(16)}q+="|"+window.move_info;if(p.indexOf("ac=")>0){p=p.replace(/ac=.*($|&)/g,"ac="+e(q))}else{p+=((p.indexOf("?")>0)?"&ac=":"?ac=")+e(q)}if(z.search(/^https?:\/\/ccc.x.jd.com/g)!=0){A.setAttribute("href",z.replace(/=http.*ccc.*x.*jd.*com.*($|&)/g,"="+encodeURIComponent(p.replace("=",""))))}else{A.setAttribute("href",p)}}catch(t){}}if(f.addEventListener){f.addEventListener("touchstart",function(o){if(!l){l=new Date().getTime()}var p=b(o)},false);f.addEventListener("touchmove",function(o){var p=b(o);n.push(p)},false);f.addEventListener("mousemove",function(o){if(!l){l=new Date().getTime()}var p=b(o);n.push(p)});f.addEventListener("mousedown",function(o){c=new Date().getTime()});f.addEventListener("mouseup",function(){a=new Date().getTime()})}if(f.attachEvent&&!f.addEventListener){f.attachEvent("onmousemove",function(){if(!l){l=new Date().getTime()}var o=b(window.event);n.push(o)});f.attachEvent("onmousedown",function(){c=new Date().getTime()});f.attachEvent("onmouseup",function(){a=new Date().getTime()})}function b(o){var q=o||window.event;try{return{x:parseInt(o.changedTouches[0].clientX),y:parseInt(o.changedTouches[0].clientY)}}catch(p){}if(q.pageX||q.pageY){return{x:parseInt(q.pageX),y:parseInt(q.pageY)}}return{x:parseInt(q.clientX+document.body.scrollLeft-document.body.clientLeft),y:parseInt(q.clientY+document.body.scrollTop-document.body.clientTop)}}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function e(u){var q,s,o;var t,r,p;o=u.length;s=0;q="";while(s<o){t=u.charCodeAt(s++)&255;if(s==o){q+=g.charAt(t>>2);q+=g.charAt((t&3)<<4);q+="==";break}r=u.charCodeAt(s++);if(s==o){q+=g.charAt(t>>2);q+=g.charAt(((t&3)<<4)|((r&240)>>4));q+=g.charAt((r&15)<<2);q+="=";break}p=u.charCodeAt(s++);q+=g.charAt(t>>2);q+=g.charAt(((t&3)<<4)|((r&240)>>4));q+=g.charAt(((r&15)<<2)|((p&192)>>6));q+=g.charAt(p&63)}return q}}antcheat();