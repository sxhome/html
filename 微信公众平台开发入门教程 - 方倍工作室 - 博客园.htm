<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head><script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js" async=""></script><script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/encoder.js" type="text/javascript"></script><script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/ca-pub-4210569241504288.js" type="text/javascript" async=""></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>微信公众平台开发入门教程 - 方倍工作室 - 博客园</title>
<link type="text/css" rel="stylesheet" href="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-SimpleBlue.css">
<link type="text/css" rel="stylesheet" href="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/99079.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/txw1958/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/txw1958/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/txw1958/wlwmanifest.xml">
<script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'txw1958', cb_enable_mathjax=false;</script>
<script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/share.js"></script><link href="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/slide_share.css" rel="stylesheet"></head>
<body>
<a name="top"></a>
<div id="page_begin_html"></div><script>load_page_begin_html();</script>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/txw1958/">方倍工作室</a></div>
<div class="subtitle">微信公众平台开发 商务联系QQ:1354386063</div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"></li>
<li id="nav_myhome"><a id="MyLinks1_MyHomeLink" class="menu" href="http://www.cnblogs.com/txw1958/">首页</a></li>
<li id="nav_q"><a class="menu" href="http://q.cnblogs.com/">博问</a></li>
<li id="nav_ing"><a class="menu" href="http://home.cnblogs.com/ing/">闪存</a></li>
<li id="nav_newpost"><a id="MyLinks1_NewPostLink" class="menu" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="MyLinks1_ContactLink" class="menu" rel="nofollow" href="http://msg.cnblogs.com/send/%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4">联系</a></li>
<li id="nav_rss">
<!----></li>
<li id="nav_admin"><a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			
<!--done-->
随笔-563&nbsp;
文章-8&nbsp;
评论-1589&nbsp;

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html">微信公众平台开发入门教程</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p>关键字：<strong>微信公众平台开发</strong><br>作者：方倍工作室</p>
<p>&nbsp;</p>
<p>在这篇微信公众平台开发教程中，我们假定你已经有了PHP语言程序、MySQL数据库、计算机网络通讯、及HTTP/XML/CSS/JS等基础。</p>
<p>我们将使用微信公众账号方倍工作室作为讲解的例子，二维码见底部。</p>
<p>本系列教程将引导你完成如下任务：</p>
<ol>
<li>创建新浪云计算平台应用</li>
<li>启用微信公众平台开发模式</li>
<li>了解数据收发原理及消息格式</li>
<li>开发实现微信天气预报功能</li>



















































</ol>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18pt;"><strong>第一章 申请服务器资源</strong></span></p>
<p><span style="font-size: 14pt;"><strong>创建新浪云计算应用</strong></span></p>
<p><strong>申请账号</strong></p>
<p>我们使用SAE新浪云计算平台作为服务器资源，并且申请PHP环境+MySQL数据库作为程序运行环境。<br>申请地址：<a href="http://www.sinacloud.com/" target="_blank">http://www.sinacloud.com/</a>，在浏览器中输入该地址，可以看到右上角微博登录的链接。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101218075041928.jpg" alt=""></p>
<p>点击进入之后，使用新浪微博账号登录&nbsp;</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101219438328300.jpg" alt=""></p>
<p><strong>实名认证</strong></p>
<p>新浪SAE要求用户上传身份证进行实名认证才可以正常使用，在左侧菜单列表中可以找到“<span style="color: #0000ff;">实名认证</span>”这一标签可进行实名认证操作。<span style="color: #0000ff;">实名认证过程是免费的。认证以后每月免费有5G的流量。认证审核需要1~3个工作日。</span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101220151604163.jpg" alt=""></p>
<p><strong><span style="color: #ff0000;">如果不进行实名认证，SAE会在回复的内容中会带上干扰的html内容信息，从而导致<span style="color: #0000ff;">Token验证失败</span>或者<span style="color: #0000ff;">该公众号暂时无法提供服务,请稍后再试</span>。</span></strong></p>
<p>实名认证需要填的信息如下</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101224258174519.jpg" alt=""><br>实名认证成功后，将如下图所示。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101221042077712.jpg" alt=""></p>
<p><strong>创建新应用&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<a id="Editor_Edit_hlEntryLink" title="view: 微信公众平台开发入门教程" href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html" target="_blank"></a>&nbsp;</span></p>
<p align="left">回到首页，在菜单顶部选择&nbsp;<strong>控制台&nbsp;</strong>，再选择&nbsp;<strong>云应用SAE&nbsp;</strong>。</p>
<p align="left"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101224403487778.jpg" alt=""></p>
<p align="left">进入SAE应用列表</p>
<p align="left"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/101228269575983.jpg" alt=""></p>
<p>点击下侧的<span style="color: #ffffff; background-color: #3366ff;">创建新应用</span>，这时会弹出提示， 禁止放置违法违规内容，点击<span style="background-color: #3366ff; color: #ffffff;">继续创建</span>，弹出如下窗口。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/271332301458530.jpg" alt=""></p>
<p><span style="background-color: #c0c0c0;">选择一个未使用的appid，如果老是已经被使用不知道该什么好，就填写你的QQ号或者手机号吧。</span></p>
<p>填写二级域名AppID、应用名称、验证码，开发语言选择<strong><span style="color: #0000ff;">PHP5.3，</span></strong><span style="color: #000000;">全部应用和框架</span>下面选择第一个【<strong><span style="color: #ff0000;">PHP 空应用</span></strong>】。然后点击左下方的<span style="color: #ffffff; background-color: #3366ff;">创建应用</span></p>
<p>&nbsp;<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/07160215-973eb4c63145469dac9a717d7ed49573.jpg" alt=""></p>
<p>应用创建成功。并自动跳转到应用列表中，可以看到已经有刚才创建的1354386063这个应用。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/161150180606319.jpg" alt=""></p>
<p><strong>创建版本&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html&nbsp;</span></p>
<p>点击刚才创建的应用名称，进入应用主页。</p>
<p>点击左侧的<strong>应用管理</strong>下面的<strong>代码管理</strong>，</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102046210-1199715414.png" alt=""></p>
<p>&nbsp;</p>
<p>在代码管理中，选择使用<span style="color: #ff0000;"><strong>SVN</strong></span>托管的方式，不要使用git的方式。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102102819-921377460.png" alt=""></p>
<p>跳转到代码管理</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102124694-104153745.png" alt=""></p>
<p>点击右侧的“创建版本”</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/07160825-d148a50efba34fe3a92aec1013d3125d.jpg" alt=""></p>
<p>版本号默认为1，点击创建，有时会弹出安全登录，需要输入安全密码，如果不知道或者忘记了，就点里面的<span style="color: #0000ff; font-size: 12px;">找回密码</span>，重新设置一下。：</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/161154056239273.jpg" alt=""></p>
<p>验证通过之后，如下所示</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102155616-1051723621.png" alt=""></p>
<p>到这里，就成功创建了一个域名URL为&nbsp;<span style="color: #ff00ff;">http://1354386063.sinaapp.com/&nbsp;</span>的应用了，记住你的这个URL，后面将会用到。</p>
<p><span style="color: #ffffff;">&nbsp;原文：http://www.cnblogs.com/txw1958/p/wechat-tutorial.html&nbsp;</span></p>
<p><strong>上传代码&nbsp;</strong><span style="color: #ffffff;">http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<a id="Editor_Edit_hlEntryLink" title="view: 微信公众平台开发入门教程" href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html" target="_blank"></a>&nbsp;</span></p>
<p>下述代码是一个微信接口文件，看不懂没有关系，你可以暂时不用弄明白它的意思。</p>
<p>如果想弄明白，可以<a href="http://redirect.simba.taobao.com/rd?w=unionnojs&amp;f=http%3A%2F%2Fai.taobao.com%2Fauction%2Fedetail.htm%3Fe%3D1seMM4B8G2gjmraEDZVrLscw9Aks5Dc7%252BsMsoDJoEyOLltG5xFicOdXrTUTgh9sMDPIwxrc30rjMMEkER9S2vpbVMrCM0u%252BAECoJT1o2C2StMycyQu8ffm3abJM7sDg2RAwfXI%252Fn6wsI51bhVE9cZg%253D%253D%26ptype%3D100010%26from%3Dbasic&amp;k=5ccfdb950740ca16&amp;c=un&amp;b=alimm_0&amp;p=mm_29363734_8476722_28642494" target="_blank"><span style="color: #0000ff;"><span style="color: #0000ff;">购买《微信公众平台开发最佳实践》</span></span></a>，在该书中第25页~第27页有详细讲解。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    方倍工作室 http://www.cnblogs.com/txw1958/
    CopyRight 2013 www.doucube.com  All Rights Reserved
</span><span style="color: #008000;">*/</span>

<span style="color: #008080;">define</span>("TOKEN", "weixin"<span style="color: #000000;">);
</span><span style="color: #800080;">$wechatObj</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> wechatCallbackapiTest();
</span><span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_GET</span>['echostr'<span style="color: #000000;">])) {
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">valid();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">responseMsg();
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> wechatCallbackapiTest
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> valid()
    {
        </span><span style="color: #800080;">$echoStr</span> = <span style="color: #800080;">$_GET</span>["echostr"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$this</span>-&gt;<span style="color: #000000;">checkSignature()){
            </span><span style="color: #008080;">header</span>('content-type:text'<span style="color: #000000;">);
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$echoStr</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> checkSignature()
    {
        </span><span style="color: #800080;">$signature</span> = <span style="color: #800080;">$_GET</span>["signature"<span style="color: #000000;">];
        </span><span style="color: #800080;">$timestamp</span> = <span style="color: #800080;">$_GET</span>["timestamp"<span style="color: #000000;">];
        </span><span style="color: #800080;">$nonce</span> = <span style="color: #800080;">$_GET</span>["nonce"<span style="color: #000000;">];

        </span><span style="color: #800080;">$token</span> =<span style="color: #000000;"> TOKEN;
        </span><span style="color: #800080;">$tmpArr</span> = <span style="color: #0000ff;">array</span>(<span style="color: #800080;">$token</span>, <span style="color: #800080;">$timestamp</span>, <span style="color: #800080;">$nonce</span><span style="color: #000000;">);
        </span><span style="color: #008080;">sort</span>(<span style="color: #800080;">$tmpArr</span>,<span style="color: #000000;"> SORT_STRING);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">implode</span>( <span style="color: #800080;">$tmpArr</span><span style="color: #000000;"> );
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">sha1</span>( <span style="color: #800080;">$tmpStr</span><span style="color: #000000;"> );

        </span><span style="color: #0000ff;">if</span>( <span style="color: #800080;">$tmpStr</span> == <span style="color: #800080;">$signature</span><span style="color: #000000;"> ){
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> responseMsg()
    {
        </span><span style="color: #800080;">$postStr</span> = <span style="color: #800080;">$GLOBALS</span>["HTTP_RAW_POST_DATA"<span style="color: #000000;">];

        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$postStr</span><span style="color: #000000;">)){
            </span><span style="color: #800080;">$postObj</span> = <span style="color: #008080;">simplexml_load_string</span>(<span style="color: #800080;">$postStr</span>, 'SimpleXMLElement',<span style="color: #000000;"> LIBXML_NOCDATA);
            </span><span style="color: #800080;">$fromUsername</span> = <span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">FromUserName;
            </span><span style="color: #800080;">$toUsername</span> = <span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">ToUserName;
            </span><span style="color: #800080;">$keyword</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">Content);
            </span><span style="color: #800080;">$time</span> = <span style="color: #008080;">time</span><span style="color: #000000;">();
            </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
                        &lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
                        &lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
                        &lt;CreateTime&gt;%s&lt;/CreateTime&gt;
                        &lt;MsgType&gt;&lt;![CDATA[%s]]&gt;&lt;/MsgType&gt;
                        &lt;Content&gt;&lt;![CDATA[%s]]&gt;&lt;/Content&gt;
                        &lt;FuncFlag&gt;0&lt;/FuncFlag&gt;
                        &lt;/xml&gt;</span>"<span style="color: #000000;">;
            </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$keyword</span> == "?" || <span style="color: #800080;">$keyword</span> == "？"<span style="color: #000000;">)
            {
                </span><span style="color: #800080;">$msgType</span> = "text"<span style="color: #000000;">;
                </span><span style="color: #800080;">$contentStr</span> = <span style="color: #008080;">date</span>("Y-m-d H:i:s",<span style="color: #008080;">time</span><span style="color: #000000;">());
                </span><span style="color: #800080;">$resultStr</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$fromUsername</span>, <span style="color: #800080;">$toUsername</span>, <span style="color: #800080;">$time</span>, <span style="color: #800080;">$msgType</span>, <span style="color: #800080;">$contentStr</span><span style="color: #000000;">);
                </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$resultStr</span><span style="color: #000000;">;
            }
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
            </span><span style="color: #0000ff;">echo</span> ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }
}
</span>?&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="line-height: 1.5;">我们将使用上述代码与微信公众平台对接。</span></p>
<p><span style="line-height: 1.5;">将上述代码用专业的软件存为utf-8格式的index.php文件后再使用WinRAR压缩为index.zip，</span></p>
<p><span style="line-height: 1.5;">或者直接</span><span style="line-height: 1.5;">下载方倍工作室已经压缩好的index.zip文件。<a href="http://pan.baidu.com/s/1c09CNrM" target="_blank"><span style="text-decoration: underline; color: #0000ff;"><strong><span style="text-decoration: underline;">点此进入下载</span></strong></span></a><br></span></p>
<p>回到SAE的代码管理界面中。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102421101-1861603222.png" alt=""></p>
<p>再选择“上传代码包”，点击上传文件，选择刚才的index.zip文件，点击上传，上传成功后中间是一个绿色的横条，如下所示</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/07160951-d3c9bf1091ef4f1c85d11246814bd514.jpg" alt=""></p>
<p>如果没有绿色的横条，表示上传失败，需要重试。<strong>可以考虑在Chrome浏览器下重试一下。</strong></p>
<p>点击编辑代码按钮，</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20151016102430147-1423131646.png" alt=""></p>
<p>&nbsp;有时候需要输入自己的安全密码，如果不记得了就点击“找回密码”。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/131140465772894.png" alt=""></p>
<p>安全验证成功后继续之前的操作。</p>
<p>我们可以看到index.php已经上传成功，双击可以查看编辑里面的代码</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/05112932-8e1afffc72e748f0b245ed6724049ad9.jpg" alt=""></p>
<p>新浪云应用的创建就成功了。</p>
<p>&nbsp;</p>
<p style="text-align: center;"><strong><span style="font-size: 18pt;">第二章 启用开发模式</span></strong></p>
<p><span style="font-size: 14pt;"><strong>微信公众平台开发模式</strong></span></p>
<p><strong>高级功能</strong></p>
<p>微信公众平台地址：<a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com</a>&nbsp;</p>
<p><span style="color: #000080;">登录微信公众平台后台，在左侧列表中最下方，找到“开发者中心”，点击进入</span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/040140334188640.jpg" alt=""></p>
<p><span style="color: #000080;">进入服务器配置填写框。</span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230851290434442.jpg" alt=""></p>
<p>点击“修改配置”按钮</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230852463249398.jpg" alt=""></p>
<p><span style="color: #000080;">此处的URL为上篇中介绍的云应用的域名，而Token在index.php中定义为weixin。EncodingAESKey则不用填，点击“随机生成”让自动生成一个，消息加解密方式选择“明文模式”，然后点击“提交”按钮。</span></p>
<p><span style="color: #000080;"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230854277309950.jpg" alt=""></span></p>
<p>&nbsp;</p>
<p><span style="color: #000080;">在弹出的提示框中，点击“确定”</span></p>
<p><span style="color: #000080;"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230855014962870.jpg" alt=""></span></p>
<p>配置修改后如图所示，再点击“启用”按钮</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230855416993454.jpg" alt=""></p>
<p>询问“是否确定开启服务器配置”，点击“确定”</p>
<p>如果提示“<strong><span style="color: #ff0000;">token验证失败</span></strong>”，可以先重次几次，微信服务器有时候不稳定。并<strong><span style="color: #ff6600;">确保你的SAE已经上传身份证通过实名认证！</span></strong></p>
<p>如果还是失败，请先用<span style="color: #0000ff;"><strong><a href="http://debug.fangbei.org/" target="_blank"><span style="color: #0000ff;">微信调试器</span></a></strong></span>测试一下url和token是否正确，<a href="http://www.cnblogs.com/txw1958/p/weixin-debugger.html" target="_blank">点此查看详细测试方法</a>。</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/230856050908206.jpg" alt=""></p>
<p>成功启用后如图。</p>
<p>恭喜，你成功启用开发模式。</p>
<p>&nbsp;</p>
<p><span><strong>自动回复</strong></span></p>
<p>在上面的例子中，实现了一个发送“?”就能回复当前时间的功能。<br>效果如下：</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/05115052-ffad462aed1d4b63a85d47e745094081.png" alt=""></p>
<p>至此，你的微信公众平台账号已经实现自动回复了。&nbsp;</p>
<pre><span>&nbsp;</span></pre>
<p align="center"><span style="font-size: 18pt;"><strong>第三章 数据收发原理及消息数据格式</strong></span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;">★&nbsp;本章是理论部分，初学者会比较难以理解，不用太过追究。</span></p>
<p><span style="font-size: 14pt;"><strong>开发模式成为开发者时的消息校验原理</strong></span></p>
<p>在开发者首次提交验证申请时，微信服务器将发送GET请求到填写的URL上，并且带上四个参数（signature、timestamp、nonce、echostr），开发者通过对签名（即signature）的效验，来判断此条消息的真实性。</p>
<p>此后，每次开发者接收用户消息的时候，微信也都会带上前面三个参数（signature、timestamp、nonce）访问开发者设置的URL，开发者依然通过对签名的效验判断此条消息的真实性。效验方式与首次提交验证申请一致。</p>
<table style="width: 640px;" align="center" border="1" cellpadding="4" cellspacing="0">
<tbody>
<tr><th>参数</th><th>描述</th></tr>
<tr>
<td>signature</td>
<td>微信加密签名，signature结合了开发者填写的token参数和请求中的timestamp参数、nonce参数。</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳</td>
</tr>
<tr>
<td>nonce</td>
<td>随机数</td>
</tr>
<tr>
<td>echostr</td>
<td>随机字符串</td>
</tr>
</tbody>
</table>
<p>开发者通过检验signature对请求进行校验（下面有校验方式）。若确认此次GET请求来自微信服务器，请原样返回echostr参数内容，则接入生效，成为开发者成功，否则接入失败。</p>
<pre><strong>加密/校验流程如下：</strong>
1. 将token、timestamp、nonce三个参数进行字典序排序
2. 将三个参数字符串拼接成一个字符串进行sha1加密
3. 开发者获得加密后的字符串可与signature对比，标识该请求来源于微信</pre>
<p>启用接口是由代码中的checkSignature()函数来实现校验的。<span style="color: #0000ff;"><span style="color: #333333;">如果对这一原理难以理解，可以暂时不用深究，继续看下面</span>。</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>成为开发者后消息收发时的原理</strong></span></p>
<p>上一章节中图，当用户发送一个“?”时，系统回复了一个时间</p>
<p><span style="line-height: 1.5;">这一原理的消息流程图如下所示。</span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/290134020804581.jpg" alt="" height="367" width="924"></p>
<p>从上图可以看出，用户在发送一个?后，微信服务器将组装一个消息发送给我们自己的服务器，自己的服务器然后回复一个时间，并且将该时间也按一定的规
则组装，回复给公众账号，公众账号再回复给用户，在这个收发过程中，发送方和接收方进行了调换(ToUserName和FromUserName值互
换)，收发都是以xml格式在后台进行传输的，</p>
<p>所以<span style="color: #ff0000;">掌握各种消息类型的接收回复就是进行微信公众平台开发的基础</span>！</p>
<p>下面对前面所述的各种消息类型讲解其XML数据包的格式。</p>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong>各种收发消息的XML数据包分析</strong></span></p>
<p><span style="font-size: 18px;"><strong>接收消息</strong></span></p>
<p><strong>1. 文本（包括表情）</strong><br>接收文本及表情</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24212713-99cd9616dec941c89f5a1dfce7fe34d9.jpg" alt=""></p>
<p>文字后台格式:</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028446<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">测试文字</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836982729904121631<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>表情后台格式</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359044526<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">/::)/::~/::B/::|/:8-)</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5837051792978241864<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；文本消息为text
Content 消息内容
MsgId 消息ID号</span></pre>
</div>
<p>可以看出，文本和表情的消息类型均为文本</p>
<p><strong>2. 图片</strong><br>接收图片</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24212902-120227ed8c2f481ea40f74f387167ccd.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028479<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">image</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://mmbiz.qpic.cn/mmbiz/L4qjYtOibummHn90t1mnaibYiaR8ljyicF3MW7XX3BLp1qZgUb7CtZ0DxqYFI4uAQH1FWs3hUicpibjF0pOqLEQyDMlg/0</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836982871638042400<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">PGKsO3LAgbVTsFYO7FGu51KUYa07D0C_Nozz2fn1z6VYtHOsF59PTFl0vagGxkVH</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；图片消息为image
PicUrl 图片链接地址，可以用HTTP GET获取
MsgId 消息ID号</span></pre>
</div>
<p><strong>3. 语音</strong><br>接收语音</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24212942-170dd66e27834ff3ac3d525cbbb60e7c.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_d035bb259cf5</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">owEUGj4BW8yeWRvyEERiVGKwAF1Q</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1364883809<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">voice</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">JfmCezZ3Cwp0FwUvMADwwhvp-XScuvpictubpw0c6ALyA8tj3HLU4PoXzMpIY72P</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Format</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">amr</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Format</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5862131322594912688<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；语音消息为voice
MediaId 媒体ID
Format 语音格式，这里为amr
MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<div class="cnblogs_code">
<pre><span>附：AMR接口简介
全称Adaptive Multi-Rate，主要用于移动设备的音频，压缩比比较大，但相对其他的压缩格式质量比较差，由于多用于人声，通话，效果还是很不错的。</span></pre>
</div>
<p><strong>4. 视频</strong></p>
<p>接收视频</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213106-09fa409d830b447681d148a65f350aa7.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>xml&gt;<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359028186<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">video</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">DBVFRIj29LB2hxuYpc0R6VLyxwgyCHZPbRj_IIs6YaGhutyXUKtFSDcSCPeoqUYr</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ThumbMediaId</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">mxUJ5gcCeesJwx2T9qsk62YzIclCP_HnRdfTQcojlPeT2G9Q3d22UkSLyBFLZ01J</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ThumbMediaId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5836981613212624665<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName 消息接收方微信号，一般为公众平台账号微信号
FromUserName 消息发送方微信号
CreateTime 消息创建时间
MsgType 消息类型；视频消息为video
MediaId 媒体ID
ThumbMediaId 媒体缩略ID？
MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><strong>5. 位置</strong></p>
<p>接收位置</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213159-d14477a57e0b4aee89adc84d9ed8a05f.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359036619<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">location</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Location_X</span><span style="color: #0000ff;">&gt;</span>22.539968<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Location_X</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Location_Y</span><span style="color: #0000ff;">&gt;</span>113.954980<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Location_Y</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Scale</span><span style="color: #0000ff;">&gt;</span>16<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Scale</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Label</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">中国广东省深圳市南山区华侨城深南大道9789号 邮政编码: 518057</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Label</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5837017832671832047<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span> ToUserName 消息接收方微信号，一般为公众平台账号微信号
 FromUserName 消息发送方微信号
 CreateTime 消息创建时间
 MsgType 消息类型，地理位置为location
 Location_X 地理位置纬度
 Location_Y 地理位置经度
 Scale 地图缩放大小
 Label 地理位置信息
 MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><strong>6. 链接</strong></p>
<p>接收链接</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213322-a711ae1e94a2446ea61d981af9304991.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjl2LYdfTAM-oxDgB4XZcnc8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359709372<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">link</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">微信公众平台开发者的江湖</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">陈坤的微信公众号这段时间大火，大家..</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://israel.duapp.com/web/photo.php</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span>5839907284805129867<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgId</span><span style="color: #0000ff;">&gt;</span> 
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span> </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span> ToUserName 消息接收方微信号，一般为公众平台账号微信号
 FromUserName 消息发送方微信号
 CreateTime 消息创建时间
 MsgType 消息类型，链接为link
 Title 图文消息标题
 Description 图文消息描述
 Url 点击图文消息跳转链接
 MsgId 消息ID号</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;</p>
<p><span style="font-size: 18px;"><strong>回复消息</strong></span></p>
<p>只介绍三种格式的消息：文本、图文、音乐。其中图文消息包括单条图文消息和多条图文消息，展示方式有一点点不同。</p>
<p><strong>1. 文本消息格式</strong><br>回复文本</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213436-1243e86e19e4460d9702096a2b43e444.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359036631<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">text</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">【深圳】天气实况 温度：27℃ 湿度：59% 风速：东北风3级
11月03日 周日 27℃~23℃ 小雨 东北风4-5级
11月04日 周一 26℃~21℃ 阵雨 微风
11月05日 周二 27℃~22℃ 阴 微风</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span> FromUserName 消息发送方
 ToUserName 消息接收方
 CreateTime 消息创建时间
 MsgType 消息类型，文本消息必须填写text
 Content 消息内容，大小限制在2048字节，字段为空为不合法请求
 FuncFlag 星标字段</span></pre>
</div>
<p>&nbsp;<br><strong>2. 图文消息格式</strong><br>2.1 单条图文消息<br>回复单条图文</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213526-b06250e1b4124e5db281e5d53223d899.jpg" alt=""><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213538-a63349c3a9f647f5a9df47429710c4ce.jpg" alt=""><br>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359011899<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">news</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>1<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">[苹果产品信息查询</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">序列号：USE IMEI NUMBER
IMEI号：358031058974471
设备名称：iPhone 5C
设备颜色：
设备容量：
激活状态：已激活
电话支持：未过期[2014-01-13]
硬件保修：未过期[2014-10-14]
生产工厂：中国</span><span style="color: #0000ff;">]]&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/banner.jpg</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>2.2 多图文消息</p>
<p>回复多图文</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213651-ebb31b7df0fe4d1aadb44c699ed5c421.jpg" alt=""><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24213704-27ef22f35cf64155b739902ccc08b4a0.jpg" alt=""></p>
<p>后台数据格式</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1359011829<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">news</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Content</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>5<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ArticleCount</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">【深圳】天气实况 温度：3℃ 湿度：43﹪ 风速：西南风2级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/banner.jpg</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月24日 周四 2℃~-7℃ 晴 北风3-4级转东南风小于3级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d00.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月25日 周五 -1℃~-8℃ 晴 东南风小于3级转东北风3-4级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d00.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月26日 周六 -1℃~-7℃ 多云 东北风3-4级转东南风小于3级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d01.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">06月27日 周日 0℃~-6℃ 多云 东南风小于3级转东北风3-4级</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://www.doucube.com/weixin/weather/icon/d01.gif</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">PicUrl</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Url</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">item</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Articles</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>FromUserName 消息发送方
 ToUserName 消息接收方
 CreateTime 消息创建时间
 MsgType 消息类型，图文消息必须填写news
 Content 消息内容，图文消息可填空
 ArticleCount 图文消息个数，限制为10条以内
 Articles 多条图文消息信息，默认第一个item为大图
  Title 图文消息标题
  Description 图文消息描述
  PicUrl 图片链接，支持JPG、PNG格式，较好的效果为大图640*320，小图80*80
  Url 点击图文消息跳转链接
FuncFlag 星标字段</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;<strong>3. 音乐消息</strong></p>
<p align="left">回复音乐消息</p>
<p align="left"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24214131-80e7000fac2a4cb08bf89b3a5519cebc.jpg" alt=""></p>
<p>后台格式：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jqgdO_cRnVXk_wRnSywgtQ8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372310544<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">music</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Music</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">最炫民族风</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Title</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">凤凰传奇</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Description</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MusicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://zj189.cn/zj/download/music/zxmzf.mp3</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MusicUrl</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">HQMusicUrl</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">http://zj189.cn/zj/download/music/zxmzf.mp3</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">HQMusicUrl</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Music</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>0<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FuncFlag</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span>ToUserName     接收方帐号（收到的OpenID）
FromUserName     开发者微信号
CreateTime     消息创建时间
MsgType          消息类型，此处为music
    Title       音乐标题
    Description 音乐描述
    MusicUrl     音乐链接
    HQMusicUrl     高质量音乐链接，WIFI环境优先使用该链接播放音乐
FuncFlag     位0x0001被标志时，星标刚收到的消息。</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span>&nbsp;</span></p>
<p><span style="font-size: 18px;"><strong>事件消息类型</strong></span></p>
<p>目前用户在关注和取消关注，以及点击菜单的时候会自动向公众平台发送事件推送消息：</p>
<p>1. 关注事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jv7LA3tydjviJp5V9qTU_kA</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372307736<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">subscribe</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>2. 取消关注事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_b629c48b653e</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">ollB4jqgdO_cRnVXk_wRnSywgtQ8</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1372309890<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">unsubscribe</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>3. 菜单点击事件</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">gh_680bdefc8c5d</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ToUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">oIDrpjqASyTPnxRmpS9O_ruZGsfk</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">FromUserName</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>1377886191<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">CreateTime</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">event</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">MsgType</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">CLICK</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">Event</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span><span style="color: #0000ff;">&lt;![CDATA[</span><span style="color: #808080;">天气深圳</span><span style="color: #0000ff;">]]&gt;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">EventKey</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">xml</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>XML格式讲解</p>
<div class="cnblogs_code">
<pre><span>ToUserName     接收方微信号
FromUserName 发送方微信号，若为普通用户，则是一个OpenID
CreateTime     消息创建时间
MsgType     消息类型，event
Event     事件类型，subscribe(订阅)、unsubscribe(取消订阅)、CLICK(自定义菜单点击事件)
EventKey 事件KEY值，与自定义菜单接口中KEY值对应</span></pre>
</div>
<p><span>&nbsp;</span></p>
<p>&nbsp;</p>
<h2 style="text-align: center;">&nbsp;<strong>第四章 实现天气预报功能</strong></h2>
<p>&nbsp;</p>
<p>这一章里，我们来实现微信上的天气预报功能，我们使用方倍工作室的天气预报接口，其接口为</p>
<div class="cnblogs_code">
<pre>http:<span style="color: #008000;">//</span><span style="color: #008000;">apix.sinaapp.com/weather/</span></pre>
</div>
<p>这个接口的参数appkey为公众号原始id，参数city为城市名</p>
<p>例如，查询深圳的天气预报时，将city值做urlencode，最终访问的url为</p>
<div class="cnblogs_code">
<pre>http:<span style="color: #008000;">//</span><span style="color: #008000;">apix.sinaapp.com/weather/?appkey=trialuser&amp;city=%E6%B7%B1%E5%9C%B3</span></pre>
</div>
<p>返回的内容如下</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #000000;">[
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">深圳天气预报</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    },
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">【实况】温度18℃ 湿度59%% 东北风2级 发布时间：08:55</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    },
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">【舒适】建议着长袖T恤、衬衫加单裤等服装。年老体弱者宜着针织长袖衬衫、马甲和长裤。</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    },
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">11月19日 周三 晴 23℃~17℃ 无持续风向 微风 日出日落：06:38~17:39</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">http://discuz.comli.com/weixin/weather/icon/d00.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    },
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">11月20日 周四 多云 25℃~17℃ 无持续风向 微风 日出日落：06:39~17:38</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">http://discuz.comli.com/weixin/weather/icon/d01.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    },
    {
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Title</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">11月21日 周五 多云 26℃~18℃ 无持续风向 微风 日出日落：06:40~17:38</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Description</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">PicUrl</span><span style="color: #800000;">"</span>: <span style="color: #800000;">"</span><span style="color: #800000;">http://discuz.comli.com/weixin/weather/icon/d01.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">,
        </span><span style="color: #800000;">"</span><span style="color: #800000;">Url</span><span style="color: #800000;">"</span>: <span style="color: #800000;">""</span><span style="color: #000000;">
    }
]</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>我们在微信中调用这一接口来获取天气预报信息，实现代码如下</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    方倍工作室
    CopyRight 2014 All Rights Reserved
</span><span style="color: #008000;">*/</span>

<span style="color: #008080;">define</span>("TOKEN", "weixin"<span style="color: #000000;">);

</span><span style="color: #800080;">$wechatObj</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> wechatCallbackapiTest();
</span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$_GET</span>['echostr'<span style="color: #000000;">])) {
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">responseMsg();
}</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
    </span><span style="color: #800080;">$wechatObj</span>-&gt;<span style="color: #000000;">valid();
}

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> wechatCallbackapiTest
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">验证签名</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> valid()
    {
        </span><span style="color: #800080;">$echoStr</span> = <span style="color: #800080;">$_GET</span>["echostr"<span style="color: #000000;">];
        </span><span style="color: #800080;">$signature</span> = <span style="color: #800080;">$_GET</span>["signature"<span style="color: #000000;">];
        </span><span style="color: #800080;">$timestamp</span> = <span style="color: #800080;">$_GET</span>["timestamp"<span style="color: #000000;">];
        </span><span style="color: #800080;">$nonce</span> = <span style="color: #800080;">$_GET</span>["nonce"<span style="color: #000000;">];
        </span><span style="color: #800080;">$token</span> =<span style="color: #000000;"> TOKEN;
        </span><span style="color: #800080;">$tmpArr</span> = <span style="color: #0000ff;">array</span>(<span style="color: #800080;">$token</span>, <span style="color: #800080;">$timestamp</span>, <span style="color: #800080;">$nonce</span><span style="color: #000000;">);
        </span><span style="color: #008080;">sort</span>(<span style="color: #800080;">$tmpArr</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">implode</span>(<span style="color: #800080;">$tmpArr</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$tmpStr</span> = <span style="color: #008080;">sha1</span>(<span style="color: #800080;">$tmpStr</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">if</span>(<span style="color: #800080;">$tmpStr</span> == <span style="color: #800080;">$signature</span><span style="color: #000000;">){
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$echoStr</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> responseMsg()
    {
        </span><span style="color: #800080;">$postStr</span> = <span style="color: #800080;">$GLOBALS</span>["HTTP_RAW_POST_DATA"<span style="color: #000000;">];
        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$postStr</span><span style="color: #000000;">)){
            </span><span style="color: #800080;">$this</span>-&gt;logger("R ".<span style="color: #800080;">$postStr</span><span style="color: #000000;">);
            </span><span style="color: #800080;">$postObj</span> = <span style="color: #008080;">simplexml_load_string</span>(<span style="color: #800080;">$postStr</span>, 'SimpleXMLElement',<span style="color: #000000;"> LIBXML_NOCDATA);
            </span><span style="color: #800080;">$RX_TYPE</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$postObj</span>-&gt;<span style="color: #000000;">MsgType);

            </span><span style="color: #800080;">$result</span> = ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$RX_TYPE</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">case</span> "event":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveEvent(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">case</span> "text":
                    <span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;receiveText(<span style="color: #800080;">$postObj</span><span style="color: #000000;">);
                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
            }
            </span><span style="color: #800080;">$this</span>-&gt;logger("T ".<span style="color: #800080;">$result</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
        }</span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            </span><span style="color: #0000ff;">echo</span> ""<span style="color: #000000;">;
            </span><span style="color: #0000ff;">exit</span><span style="color: #000000;">;
        }
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveEvent(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Event)
        {
            </span><span style="color: #0000ff;">case</span> "subscribe":
                <span style="color: #800080;">$content</span> = "欢迎关注方倍工作室 "<span style="color: #000000;">;
                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> receiveText(<span style="color: #800080;">$object</span><span style="color: #000000;">)
    {
        </span><span style="color: #800080;">$keyword</span> = <span style="color: #008080;">trim</span>(<span style="color: #800080;">$object</span>-&gt;<span style="color: #000000;">Content);
        </span><span style="color: #800080;">$url</span> = "http://apix.sinaapp.com/weather/?appkey=".<span style="color: #800080;">$object</span>-&gt;ToUserName."&amp;city=".<span style="color: #008080;">urlencode</span>(<span style="color: #800080;">$keyword</span><span style="color: #000000;">); 
        </span><span style="color: #800080;">$output</span> = <span style="color: #008080;">file_get_contents</span>(<span style="color: #800080;">$url</span><span style="color: #000000;">);
        </span><span style="color: #800080;">$content</span> = json_decode(<span style="color: #800080;">$output</span>, <span style="color: #0000ff;">true</span><span style="color: #000000;">);

        </span><span style="color: #800080;">$result</span> = <span style="color: #800080;">$this</span>-&gt;transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitText(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$content</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">isset</span>(<span style="color: #800080;">$content</span>) || <span style="color: #0000ff;">empty</span>(<span style="color: #800080;">$content</span><span style="color: #000000;">)){
            </span><span style="color: #0000ff;">return</span> ""<span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$textTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[%s]]&gt;&lt;/Content&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$textTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #800080;">$content</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> transmitNews(<span style="color: #800080;">$object</span>, <span style="color: #800080;">$newsArray</span><span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span>(!<span style="color: #008080;">is_array</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">)){
            </span><span style="color: #0000ff;">return</span> ""<span style="color: #000000;">;
        }
        </span><span style="color: #800080;">$itemTpl</span> = "<span style="color: #000000;">    &lt;item&gt;
        &lt;Title&gt;&lt;![CDATA[%s]]&gt;&lt;/Title&gt;
        &lt;Description&gt;&lt;![CDATA[%s]]&gt;&lt;/Description&gt;
        &lt;PicUrl&gt;&lt;![CDATA[%s]]&gt;&lt;/PicUrl&gt;
        &lt;Url&gt;&lt;![CDATA[%s]]&gt;&lt;/Url&gt;
    &lt;/item&gt;
</span>"<span style="color: #000000;">;
        </span><span style="color: #800080;">$item_str</span> = ""<span style="color: #000000;">;
        </span><span style="color: #0000ff;">foreach</span> (<span style="color: #800080;">$newsArray</span> <span style="color: #0000ff;">as</span> <span style="color: #800080;">$item</span><span style="color: #000000;">){
            </span><span style="color: #800080;">$item_str</span> .= <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$itemTpl</span>, <span style="color: #800080;">$item</span>['Title'], <span style="color: #800080;">$item</span>['Description'], <span style="color: #800080;">$item</span>['PicUrl'], <span style="color: #800080;">$item</span>['Url'<span style="color: #000000;">]);
        }
        </span><span style="color: #800080;">$newsTpl</span> = "<span style="color: #000000;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[%s]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;%s&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[news]]&gt;&lt;/MsgType&gt;
&lt;Content&gt;&lt;![CDATA[]]&gt;&lt;/Content&gt;
&lt;ArticleCount&gt;%s&lt;/ArticleCount&gt;
&lt;Articles&gt;
</span><span style="color: #800080;">$item_str</span><span style="color: #000000;">&lt;/Articles&gt;
&lt;/xml&gt;</span>"<span style="color: #000000;">;

        </span><span style="color: #800080;">$result</span> = <span style="color: #008080;">sprintf</span>(<span style="color: #800080;">$newsTpl</span>, <span style="color: #800080;">$object</span>-&gt;FromUserName, <span style="color: #800080;">$object</span>-&gt;ToUserName, <span style="color: #008080;">time</span>(), <span style="color: #008080;">count</span>(<span style="color: #800080;">$newsArray</span><span style="color: #000000;">));
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$result</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">function</span> logger(<span style="color: #800080;">$log_content</span><span style="color: #000000;">)
    {
      
    }
}
</span>?&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>上述代码的下载地址为&nbsp;<a href="http://pan.baidu.com/s/1gdsyHWJ" target="_blank">http://pan.baidu.com/s/1gdsyHWJ</a>，同样的方法，可将代码上传到SAE上。</p>
<p>在公众账号中使用的命令如下：</p>
<ol>
<li>发送城市名称，如“深圳”，可以查询该城市的天气</li>
</ol>
<p>在你的公众账号输入相应的命令，实现效果类似如下所示：</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/261418519677515.png" alt="">&nbsp;</p>
<p>&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18pt;"><strong>第五章 小结</strong></span></p>
<p>&nbsp;</p>
<p>总的来说，通过本教程，你得到了以下收获：</p>
<ul>
<li>1. 你通过本教程得到了一个免费的新浪云计算空间，云计算哦</li>
<li>2. 你成功启用了开发模式，并且实现了时间的自动回复</li>
<li>3. 你了解了微信公众平台开发的原理，并且熟悉了各种消息及发送是怎么一回事</li>
<li>4. 你使用方倍工作室的天气预报接口，实现了一个微信公众平台上的天气预报功能。</li>
</ul>
<p><span style="line-height: 1.5;">接下来该做什么呢？你可以学习开发一些基础的常用功能，</span><span style="line-height: 1.5;">推荐：方倍工作室 编写，机械工业出版社 出版的《</span><strong><span style="color: #ff0000;">微信公众平台开发最佳实践&nbsp;第2版</span></strong><span style="line-height: 1.5;">》，里面包含很多php开发技巧、数据库使用、及近30项微信公众平台实用功能或技术 。&nbsp;</span></p>
<p><span style="line-height: 1.5;"><strong><span style="color: #0000ff;">点击图标购买</span><span style="color: #0000ff;">：</span></strong></span></p>
<p><a href="http://redirect.simba.taobao.com/rd?w=unionnojs&amp;f=http%3A%2F%2Fai.taobao.com%2Fauction%2Fedetail.htm%3Fe%3DxPgHGJtNuNW6k0Or%252B%252BH4tNDGiUb0kud7TbuPAry6zvGLltG5xFicOdXrTUTgh9sMDPIwxrc30rjMMEkER9S2vpbVMrCM0u%252BAECoJT1o2C2StMycyQu8ffm3abJM7sDg2vChmewW4O6%252BhQ2L3%252FuB4bg%253D%253D%26ptype%3D100010%26from%3Dbasic&amp;k=5ccfdb950740ca16&amp;c=un&amp;b=alimm_0&amp;p=mm_29363734_8476722_28642494" target="_blank"><span style="line-height: 1.5;"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/051305296371922.jpg" alt="" height="36" width="101"></span></a>&nbsp;<span style="line-height: 1.5;"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113169236803.jpg" alt="" height="5" width="14"></span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113047052438.jpg" alt="" height="6" width="17"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113112983585.jpg" alt="" height="8" width="22"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113169236803.jpg" alt="" height="7" width="19"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113235486194.jpg" alt="" height="8" width="22"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/142112364061185.png" alt="" height="7" width="27"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/142126413592656.png" alt="" height="6" width="25">&nbsp;<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/252248253492792.jpg" alt="" height="8" width="45"></p>
<p><span style="line-height: 1.5;">学习完这一层次之后，你可以开始自己胜任一个中小型的微信公众平台账号功能的开发了。</span></p>
<p><span style="line-height: 1.5;">如果你没有PHP及Mysql方面的开发基础，我们也建议你购买《<span style="color: #0000ff;">PHP和MySQL Web开发（原书第4版）</span>》，该书被评为“<strong><span style="color: #993366;">PHP和MySQL程序员的最佳参考书</span></strong>”，</span></p>
<p><span style="color: #0000ff;"><strong><span style="line-height: 1.5;">点击图标购买</span></strong></span></p>
<p><span style="line-height: 1.5;"><a href="http://redirect.simba.taobao.com/rd?w=unionnojs&amp;f=http%3A%2F%2Fai.taobao.com%2Fauction%2Fedetail.htm%3Fe%3DD4ylGSjfN2zebLdhAWchHM2J%252BE7wYoWWYS9AVrmcovTlL1tPWpvWRP7gvmtLyoa3Dlg3nJM8sR9RS3HG4rTXY79gpNaXO4WvWlSY1McHcqccWXbs5Wf5dvbOH4f91N17XEvXgXEpccw7%252FMFZuhlfuQ%253D%253D%26ptype%3D100010%26from%3Dbasic&amp;k=5ccfdb950740ca16&amp;c=un&amp;b=alimm_0&amp;p=mm_29363734_8476722_28642494" target="_blank"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/051305296371922.jpg" alt="" height="36" width="99"></a></span></p>
<p>&nbsp;</p>
<p><span style="color: #000000;"><strong>捐赠我们</strong></span><br><span style="color: #ff0000;">方倍工作室一直在致力于帮助开发人员更加快速方便的进行微信公众平台的开发，如果您对我们的成果表示认同并且觉得对你有所帮助，欢迎您对我们捐赠^_^。</span></p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/260940045683157.png" alt=""></p>
<p>&nbsp;</p>
<p><span style="color: #ffffff;">&nbsp;原文：http://www.cnblogs.com/txw1958/p/wechat-tutorial.html<strong>&nbsp;</strong></span></p>
<p>&nbsp;</p></div><div style="display: block;" id="MySignature"><div>
<p>============================================</p>
<p><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/340216-20150929112717511-1533505703.jpg"></p>
<div>
<a style="color: #006000;" target="_blank" href="http://www.cnblogs.com/txw1958/p/weixin-book.html">★微信官方推荐阅读的100本图书 点击进入查看</a><br>
<a style="color: #BB5E00;" href="http://url.cn/ErIDso">★微信公众平台开发教程——新手入门 点击进入</a><br>
<a style="color: #FF0000;" target="_blank" href="http://www.cnblogs.com/txw1958/p/wxqa.html"><b>★微信问题咨询，请点击进入微信公众平台开发问答 </b></a><br>
<a style="color: #8600ee;">☆微信付费开发联系QQ 1354386063</a>
<a style="color: #8600FF;">☆微信开发技术交流QQ群465977177</a>
<br>
</div>
</div></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/txw1958/category/407134.html">微信开发</a>, <a href="http://www.cnblogs.com/txw1958/category/545893.html">开发教程</a></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(3153567,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://msg.cnblogs.com/send/%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4" target="_blank">联系我</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
<a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/txw1958/" target="_blank"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/20131017185242.png" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/txw1958/">方倍工作室</a><br>
<a href="http://home.cnblogs.com/u/txw1958/followees">关注 - 3</a><br>
<a href="http://home.cnblogs.com/u/txw1958/followers">粉丝 - 2003</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
    <a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
    <div class="diggit" onclick="votePost(3153567,'Digg')">
        <span class="diggnum" id="digg_count">78</span>
    </div>
	<div class="buryit" onclick="votePost(3153567,'Bury')"> 
		<span class="burynum" id="bury_count">1</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/txw1958/p/weixin-42-lover-face.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/txw1958/p/weixin-42-lover-face.html" title="发布于2013-06-24 11:24">微信公众平台开发（42）情侣相夫妻相</a><br><a href="http://www.cnblogs.com/txw1958/p/weixin-taobao-tmall.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/txw1958/p/weixin-taobao-tmall.html" title="发布于2013-07-05 00:22">淘宝天猫店铺微信公众平台建设指南</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2013-06-24 22:20</span> <a href="http://www.cnblogs.com/txw1958/">方倍工作室</a> 阅读(<span id="post_view_count">866742</span>) 评论(<span id="post_comment_count">154</span>)  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=3153567" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(3153567);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=99079,cb_entryId=3153567,cb_blogApp=currentBlogApp,cb_blogUserGuid='cf14d8e0-c6f4-e011-8ee0-842b2b196315',cb_entryCreatedDate='2013/6/24 22:20:00';loadViewCount(cb_entryId);</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"><div class="pager"><a href="#%21comments" onclick="commentManager.renderComments(3,50);return false;">&lt; Prev</a><a href="#%21comments" onclick="commentManager.renderComments(1,50);return false;">1</a><a href="#%21comments" onclick="commentManager.renderComments(2,50);return false;">2</a><a href="#%21comments" onclick="commentManager.renderComments(3,50);return false;">3</a><span class="current">4</span></div></div>
<!--done-->
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>
	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="#3289829" class="layer">#151楼</a><a name="3289829" id="comment_anchor_3289829"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2015-10-22 13:36</span> <a id="a_comment_author_3289829" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://msg.cnblogs.com/send/%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3289829" class="blog_comment_body"><a href="#3285616" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3285616);">@</a>阿狸兔兔88<br>按教程来</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3289829,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3289829,'Bury',this)">反对(0)</a></div><span id="comment_3289829_avatar" style="display:none;">http://pic.cnblogs.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="#3289830" class="layer">#152楼</a><a name="3289830" id="comment_anchor_3289830"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2015-10-22 13:36</span> <a id="a_comment_author_3289830" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://msg.cnblogs.com/send/%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3289830" class="blog_comment_body"><a href="#3286572" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3286572);">@</a>小仙005<br>按教程来</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3289830,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3289830,'Bury',this)">反对(0)</a></div><span id="comment_3289830_avatar" style="display:none;">http://pic.cnblogs.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="#3290778" class="layer">#153楼</a><a name="3290778" id="comment_anchor_3290778"></a>  <span class="comment_date">2015-10-23 14:47</span> <a id="a_comment_author_3290778" href="http://home.cnblogs.com/u/826770/" target="_blank">heroleilei</a> <a href="http://msg.cnblogs.com/send/heroleilei" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3290778" class="blog_comment_body"><a href="#3116538" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3116538);">@</a>solohiller<br>我也是回调模式报这个错，有解决吗？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3290778,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3290778,'Bury',this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="#3292185" class="layer">#154楼</a><a name="3292185" id="comment_anchor_3292185"></a>[<span class="louzhu">楼主</span>]<span id="comment-maxId" style="display:none;">3292185</span><span id="comment-maxDate" style="display:none;">2015/10/26 12:32:53</span>  <span class="comment_date">2015-10-26 12:32</span> <a id="a_comment_author_3292185" href="http://www.cnblogs.com/txw1958/" target="_blank">方倍工作室</a> <a href="http://msg.cnblogs.com/send/%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3292185" class="blog_comment_body"><a href="#3290778" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3290778);">@</a>heroleilei<br>本文不是企业号教程</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3292185,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3292185,'Bury',this)">反对(0)</a></div><span id="comment_3292185_avatar" style="display:none;">http://pic.cnblogs.com/face/340216/20131017185242.png</span>
			</div>
		</div>
	<div id="comments_pager_bottom"><div class="pager"><a href="#%21comments" onclick="commentManager.renderComments(3,50);return false;">&lt; Prev</a><a href="#%21comments" onclick="commentManager.renderComments(1,50);return false;">1</a><a href="#%21comments" onclick="commentManager.renderComments(2,50);return false;">2</a><a href="#%21comments" onclick="commentManager.renderComments(3,50);return false;">3</a><span class="current">4</span></div></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://www.rongcloud.cn/" target="_blank">【推荐】融云即时通讯云－专注为 App 开发者提供IM云服务</a><br><a href="https://www.jpush.cn/" target="_blank">【福利】极光推送-富媒体+大数据驱动精准推送，完全免费开放啦</a><br><a href="http://click.aliyun.com/m/1328/" target="_blank">【专享】阿里云9折优惠码：bky758</a><br></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    fixPostBodyFormat();
</script>
<div id="google_ad_c1" class="c_ad_block"><a href="http://www.gcpowertools.com.cn/products/spreadjs/?utm_source=cnblogs&amp;utm_medium=blogpage&amp;utm_term=bottom&amp;utm_content=SpreadJS&amp;utm_campaign=community" target="_blank"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24442-20151030141724685-1469547474.png" alt="" height="250" width="300"></a></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/531842/" target="_blank">范志军内部信：PPTV加速国内独立上市</a><br> ·  <a href="http://news.cnblogs.com/n/531841/" target="_blank">NASA发布30分钟太阳4K影像</a><br> ·  <a href="http://news.cnblogs.com/n/531840/" target="_blank">传腾讯接近完成对美团点评10亿美元投资</a><br> ·  <a href="http://news.cnblogs.com/n/531839/" target="_blank">美团点评洽谈融资30亿美元 传DST参与抬价</a><br> ·  <a href="http://news.cnblogs.com/n/531838/" target="_blank">小米与外国公司合作开辟非洲市场</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="google_ad_c2" class="c_ad_block"><a href="http://e.jikexueyuan.com/html5.html?hmsr=cnb_banner_html5_09.14" target="_blank"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24442-20150914101329570-406117032.jpg" alt="" height="60" width="468"></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/530046/" target="_blank">再谈设计和编码</a><br> ·  <a href="http://kb.cnblogs.com/page/531270/" target="_blank">什么时候应该避免写代码注释？</a><br> ·  <a href="http://kb.cnblogs.com/page/529677/" target="_blank">持续集成是什么？</a><br> ·  <a href="http://kb.cnblogs.com/page/530389/" target="_blank">人，技术与流程</a><br> ·  <a href="http://kb.cnblogs.com/page/530044/" target="_blank">HTTPS背后的加密算法</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="google_ad_c3" class="c_ad_block">
    <script async="" src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/adsbygoogle.js"></script>
<!-- C3_BlogPost -->
<ins data-adsbygoogle-status="done" class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-4210569241504288" data-ad-slot="3239908880"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="250" width="300"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    setTimeout(function () { incrementViewCount(cb_entryId); }, 200);
});
</script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div>
<span>
<a href="http://www.cnblogs.com/txw1958/p/weixin-book.html" target="_blank">
<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/051316468603876.png" alt="微信图书">
</a>
</span>
</div>
<h3 class="catListTitle">-微信开发必备</h3>

<strong style="color: red;"><span>《微信公众平台开发最佳实践》</span></strong>
<div>
<p style="padding-left:30px">
<a href="http://www.cnblogs.com/txw1958/p/weixin-development-best-practice-v2.html" target="_blank">
<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/zjsj2.gif" height="188" width="135"></a>
</p>
<p>

</p>
</div>
<div style="font-size: 9pt;">
	<div>
		<span>案例最多：</span>
		<span style="color: #009393;">超30个应用及功能代码</span>
	</div>
	<div>
		<span>内容最全：</span>
		<span style="color: #808000;">覆盖微信五大体系接口</span>
	</div>
	<div>
		<span>专家推荐：</span>
		<span style="color: #800000;">O2O第一媒体CEO推荐</span>
	</div>
	<div>
		<span>经典语言：</span>
		<span style="color: #666699;">使用PHP+MySQL编写</span>
	</div>
	<div>
		<span>最受欢迎：</span>
		<span style="color: #FF0000;">入门教程达80万阅读量</span>
	</div>
	<div>
		<span>源码开放：</span>
		<span style="color: #8F4586;">已购纸书者可下载源码</span>
	</div>
	<div>
		<span>免费空间：</span>
		<span style="color: #008000;">可获新浪云每月5G流量</span>
	</div>
	<div>
		<span>高校教材：</span>
		<span style="color: #FF0080;">多所高等院校指定使用</span>
	</div>
	<div>
		<span>帮助成功：</span>
		<span style="color: #0000ff;">前年就已有学生赚几千</span>
	</div>
</div>
<div>
<p>
<strong style="color: red;"><span>购买方式</span></strong> <span style="color: #808080;">点击下面图标购买
</span></p>
<div>
<span>
<a href="http://redirect.simba.taobao.com/rd?w=unionnojs&amp;f=http%3A%2F%2Fai.taobao.com%2Fauction%2Fedetail.htm%3Fe%3DqSZBbQwHz6S6k0Or%252B%252BH4tNDGiUb0kud7TbuPAry6zvGLltG5xFicOdXrTUTgh9sMDPIwxrc30rjMMEkER9S2vpbVMrCM0u%252BAECoJT1o2C2S01EQF3Lj7X23abJM7sDg28Sk9WMlI9k3O80jPCs%252BwMg%253D%253D%26ptype%3D100010%26from%3Dbasic&amp;k=5ccfdb950740ca16&amp;c=un&amp;b=alimm_0&amp;p=mm_29363734_8476722_28662295" target="_blank">
<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/051305296371922.jpg" alt="">
</a>
</span>
<span>
<a href="http://item.jd.com/11695859.html" target="_blank">
<img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/302113112983585.jpg" alt=""></a>
</span>
</div>
</div>

<p>&nbsp;</p>
<div style="display:none">
<a href="http://www.cnzz.com/stat/website.php?web_id=4343144" target="_blank" title="站长统计">站长统计</a></div><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/txw1958/">方倍工作室</a><br>园龄：<a href="http://home.cnblogs.com/u/txw1958/" title="入园时间：2011-10-12">4年</a><br>粉丝：<a href="http://home.cnblogs.com/u/txw1958/followers/">2003</a><br>关注：<a href="http://home.cnblogs.com/u/txw1958/followees/">3</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger('cf14d8e0-c6f4-e011-8ee0-842b2b196315')">+加关注</a></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk" type="text">&nbsp;<input onclick="zzk_go()" value="找找看" id="btnZzk" class="btn_my_zzk" type="button"></div>

</div>
</div>

</div><div id="sidebar_recentposts" class="sidebar-block">
<div class="catListEssay">
<h3 class="catListTitle">最新随笔</h3>
<ul>
<li><a href="http://www.cnblogs.com/txw1958/p/mobileui.html">1. 移动端前端UI库—Frozen UI、WeUI、SUI Mobile</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weui.html">2. 微信官方UI库—WeUI</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxqa.html">3. 微信公众平台开发问答</a></li><li><a href="http://www.cnblogs.com/txw1958/p/moments-rules.html">4. 微信朋友圈运营规则</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-redpacket-limit-increase.html">5. 微信红包限额提升方法</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-book.html">6. 微信从业人员推荐阅读的100本经典图书</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-send-group-redpack.html">7. 微信裂变红包</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-development-best-practice-v2.html">8. 微信公众平台开发最佳实践（第2版）</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-shake-h5.html">9. 微信公众平台开发(108) 微信摇一摇</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpay-demo.html">10. 微信支付样例</a></li>
</ul>
</div>
</div><div id="sidebar_categories">
<div class="catListPostCategory">
<h3 class="catListTitle">随笔分类<span style="font-size:11px;font-weight:normal">(378)</span></h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/txw1958/category/545892.html">高级接口(24)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/txw1958/category/545893.html">开发教程(43)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/txw1958/category/637448.html">开放平台(1)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/txw1958/category/545894.html">微信动态(79)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/txw1958/category/407134.html">微信开发(188)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="http://www.cnblogs.com/txw1958/category/545895.html">微信认证(2)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="http://www.cnblogs.com/txw1958/category/596444.html">微信小店(4)</a> </li>

<li><a id="CatList_LinkList_0_Link_7" href="http://www.cnblogs.com/txw1958/category/627800.html">微信硬件(2)</a> </li>

<li><a id="CatList_LinkList_0_Link_8" href="http://www.cnblogs.com/txw1958/category/545896.html">微信支付v2(26)</a> </li>

<li><a id="CatList_LinkList_0_Link_9" href="http://www.cnblogs.com/txw1958/category/624506.html">微信支付v3(9)</a> </li>

</ul>

</div>

<div class="catList">
<h3 class="catListTitle">微信导航</h3>

<ul>

<li><a id="CatList_LinkList_1_Link_0" href="http://menu.fangbei.org/" rel="nofollow" target="_blank">微信菜单生成器</a> </li>

<li><a id="CatList_LinkList_1_Link_1" href="http://debug.fangbei.org/" rel="nofollow" target="_blank">微信调试器</a> </li>

<li><a id="CatList_LinkList_1_Link_2" href="http://www.cnblogs.com/txw1958/p/weixin-book-dev.html" rel="nofollow" target="_blank">微信开发书籍推荐</a> </li>

<li><a id="CatList_LinkList_1_Link_3" href="http://www.cnblogs.com/txw1958/p/weixin-development-best-practice.html" rel="nofollow" target="_blank">微信开发最佳实践</a> </li>

<li><a id="CatList_LinkList_1_Link_4" href="http://www.cnblogs.com/txw1958/p/weixin-book.html" rel="nofollow" target="_blank">微信图书100本</a> </li>

<li><a id="CatList_LinkList_1_Link_5" href="http://dude.sinaapp.com/" rel="nofollow" target="_blank">微信问答社区</a> </li>

</ul>

</div>

<div class="catList">
<h3 class="catListTitle">友情链接</h3>

<ul>

<li><a id="CatList_LinkList_2_Link_0" href="http://www.helloweba.com/" rel="nofollow" target="_blank">helloweba</a> </li>

<li><a id="CatList_LinkList_2_Link_1" href="http://www.highcharts.com/" rel="nofollow" target="_blank">Highcharts</a> </li>

<li><a id="CatList_LinkList_2_Link_2" href="http://www.cnblogs.com/txw1958/p/tutorials-of-wechat-public-platform.html" rel="nofollow" target="_blank">Tutorials</a> </li>

<li><a id="CatList_LinkList_2_Link_3" href="http://apple.fangbei.org/" rel="nofollow" target="_blank">苹果产品查询</a> </li>

</ul>

</div>

</div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html">1. 微信公众平台开发入门教程(866741)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin71-oauth20.html">2. 微信公众平台开发（71）OAuth2.0网页授权(216535)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin76-user-info.html">3. 微信公众平台开发(76) 获取用户基本信息(126421)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-58-custom-menu.html">4. 微信公众平台开发（58）自定义菜单(124770)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">5. 微信公众平台消息接口开发（1）启用接口(116765)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/08/01/csharp-json.html">6. C#解析json文件的方法(110877)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/31/weixin-if2-enable.html">7. 你的服务器没有正确响应Token验证的解决方法(100246)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-access-token.html">8. 微信公众平台开发(26) ACCESS TOKEN(91552)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-js.html">9. 微信JS接口(90250)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-development-best-practice.html">10. 微信公众平台开发最佳实践(82596)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin41-follow-method.html">11. 微信公众平台开发（41）一键关注微信公众平台账号(79930)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-js-sdk-demo.html">12. 微信JS SDK Demo(79510)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/07/16/scrapy-tutorial.html">13. Scrapy入门教程(79393)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-qrcode-with-parameters.html">14. 微信公众平台开发(83) 生成带参数二维码(75705)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-jsapi-pay.html">15. 微信支付开发(3) JS API支付(60493)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html">1. 微信公众平台开发入门教程(154)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/11/06/programmer-personal-work.html">2. 程序员接私活经验谈[转](64)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin71-oauth20.html">3. 微信公众平台开发（71）OAuth2.0网页授权(57)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wxpayv3-jsapi.html">4. 微信支付开发(1) JS API支付(56)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-api100.html">5. 接口100(54)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin76-user-info.html">6. 微信公众平台开发(76) 获取用户基本信息(53)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-jsapi-pay.html">7. 微信支付开发(3) JS API支付(37)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/02/26/weixin-if50-music.html">8. 微信公众平台消息接口开发（50）在线点歌/在线音乐(37)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/wechat-template-message.html">9. 微信公众平台开发(102) 模板消息(36)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/09/guchengzhonglou-weibo-timer.html">10. 古城钟楼微博地支报时程序铛，100行代码实现，价值一天20万粉丝(33)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/txw1958/p/wechat-tutorial.html">1. 微信公众平台开发入门教程(78)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/11/06/programmer-personal-work.html">2. 程序员接私活经验谈[转](47)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/08/01/csharp-json.html">3. C#解析json文件的方法(15)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">4. 微信公众平台消息接口开发（1）启用接口(12)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/27/csharp-calendar.html">5. C#实现万年历(农历、节气、节日、星座、星宿、属相、生肖、闰年月、时辰)(11)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2013/01/09/guchengzhonglou-weibo-timer.html">6. 古城钟楼微博地支报时程序铛，100行代码实现，价值一天20万粉丝(9)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/09/24/CSharp-WebBrowser.html">7. C#中的WebBrowser控件的使用(8)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/07/16/scrapy-tutorial.html">8. Scrapy入门教程(8)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin-js-sdk-demo.html">9. 微信JS SDK Demo(8)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin71-oauth20.html">10. 微信公众平台开发（71）OAuth2.0网页授权(8)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/weixin76-user-info.html">11. 微信公众平台开发(76) 获取用户基本信息(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/p/baidu-weather-forecast-api.html">12. 百度天气预报接口(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/09/03/csharp-thread-1.html">13. C#中的线程（一）入门(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/08/21/csharp-crossthread-widget.html">14. c#中跨线程调用windows窗体控件(7)</a></li><li><a href="http://www.cnblogs.com/txw1958/archive/2012/11/07/csharp-dictionary.html">15. C#中的Dictionary字典类介绍(7)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2015 方倍工作室
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<!--PageEndHtml Block Begin-->
<div style="display:none;">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F674430fbddd66a488580ec86aba288f7' type='text/javascript'%3E%3C/script%3E"));
</script><script src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/h.js" type="text/javascript"></script><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=674430fbddd66a488580ec86aba288f7" target="_blank"><img src="%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%20-%20%E6%96%B9%E5%80%8D%E5%B7%A5%E4%BD%9C%E5%AE%A4%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/21.gif" border="0" height="20" width="20"></a>
</div>
<!--PageEndHtml Block End-->


<div data-bd-bind="1446476069970" class="bdshare-slide-button-box bdshare-slide-style-r4" style="top: 250px; width: 0px; z-index: 99999; right: 0px;"><a style="left: -24px;" href="#" onclick="return false;" class="bdshare-slide-button"></a><div style="width: 0px; display: none;" class="bdshare-slide-list-box"><div class="bdshare-slide-top">分享到</div><div class="bdshare-slide-list"><ul style="width: 226px;" class="bdshare-slide-list-ul"></ul></div><div style="width: 226px;" class="bdshare-slide-bottom"><a href="#" onclick="return false;" class="slide-more" data-cmd="more">更多...</a></div></div></div></body></html>