<!DOCTYPE html>
<!--
 ______________ 
< TUICOOL.COM >
 -------------- 
        \   ^__^
         \  (**)\__$__$__
            (__)\       )\/\
             U  ||------|
                ||     ||
-->
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="authenticity_token" name="csrf-param">
<meta content="gS6Rll4ty59nkDkDOh8HwfN5a+svfVWAlCOTn0LFunE=" name="csrf-token">
    <title>
            PHP 数据库驱动、连接数据不同方式梳理 - .Little Hann - 推酷
   </title>
    <meta name="description" content="PHP 数据库驱动、连接数据不同方式梳理 - .Little Hann">
  <link rel="shortcut icon" href="http://static0.tuicool.com/favicon.ico" type="image/x-icon">
  <link href="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/application-bc9f103ffac633f3e0506001890d1135.css" media="screen" rel="stylesheet" type="text/css">
  <link href="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/font-awesome.css" rel="stylesheet">
  <script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ca-pub-7054762349007490.js"></script><script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/application-9d8e2864bc094ddf228d2147120a4b1f.js" type="text/javascript"></script>

  <!--[if IE 7]>
  <link rel="stylesheet" href="http://assets.tuicool.com/assets/font-awesome-ie7.min.css">
  <![endif]--> 
    <script type="text/javascript" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/tip.js"></script>
  
  <script type="text/javascript" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/m.js"></script>
<script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ds.js"></script>
<script type="text/javascript" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/spin.js"></script><style type="text/css"></style>
<link rel="stylesheet" href="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/github.css">

<script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/share.js"></script><link href="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/share_style1_24.css" rel="stylesheet"></head>
<body><div style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;" id="BAIDU_DUP_fp_wrapper"><iframe style="width: 0px; height: 0px; visibility: hidden; display: none;" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/o.htm" id="BAIDU_DUP_fp_iframe"></iframe></div><div style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;" id="BAIDU_DUP_fp_wrapper"><iframe style="width: 0px; height: 0px; visibility: hidden; display: none;" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/o_002.htm" id="BAIDU_DUP_fp_iframe"></iframe></div>
  
  <div id="header" class="navbar-fixed-top">
    <div class="container">
      <div class="navbar">
        <div class="navbar-inner">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> 
            <span class="icon-bar"></span> 
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
          </a>
          <a href="http://www.tuicool.com/" class="brand">推酷</a>        
        <nav class="nav-collapse collapse">
            <ul class="nav navbar primary-nav">                            
              <li class="active">
                <a href="http://www.tuicool.com/ah">
                  文章
                </a>
              </li>              
              <li class="">
                <a href="http://www.tuicool.com/sites/hot">
                  站点
                </a>
              </li>
              <li class="">
                <a href="http://www.tuicool.com/topics">
                  主题
                </a>
              </li>
              <li class="">
                <a href="http://course.tuicool.com/">
                  公开课
                </a>
              </li>
              <li class="">
                <a href="http://huodong.tuicool.com/">
                  活动
                </a>
              </li>
              <li class="">
                <a href="http://www.tuicool.com/mobile">
                  客户端
                    <sup style="font-size:0.8em;color: #16A085;">荐</sup>
                </a>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">周刊 <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.tuicool.com/mags">编程狂人</a></li>
                  <li><a href="http://www.tuicool.com/mags/design">设计匠艺</a></li> 
                  <li><a href="http://www.tuicool.com/mags/startup">创业周刊</a></li> 
                  <li><a href="http://www.tuicool.com/mags/tech">科技周刊</a></li>      
                  <li><a href="http://www.tuicool.com/mags/guru">Guru Weekly</a></li> 
                  <li><a href="http://www.tuicool.com/articles/weekly">一周拾遗</a></li>                  
                </ul>
              </li>
              
              </ul>
            <form class="navbar-search pull-left" action="http://www.tuicool.com/search">
              <input class="search-query span2" name="kw" placeholder="搜索" type="text">
            </form>
            <ul class="nav pull-right">
                <li><a href="http://www.tuicool.com/login">登录</a></li>
            </ul>
          </nav>
        </div>
      </div>
  </div>   
</div>
  <div id="flash_container" class="noPrint">    
  </div>
  
  <div class="container-fluid">  
      
<div class="row-fluid article_row_fluid">
    <div class="span8 contant article_detail_bg">
        <h1>PHP 数据库驱动、连接数据不同方式梳理 - .Little Hann</h1>
        <div class="article_meta">
            <div style="margin-bottom: 5px;">
            <span class="timestamp">时间&nbsp;2014-04-29 13:15:00
            </span>
            <span class="from">
                <i class="icon-globe"></i>
                    <a class="cut cut28 from" href="http://www.tuicool.com/sites/qQzyuar" target="_blank">博客园_.Little Hann
                    </a>
            </span>
            </div>
            <div class="source">
                <i style="float:left;">原文</i>&nbsp; 
                <a class="cut cut70" href="http://www.cnblogs.com/LittleHann/p/3698199.html?utm_source=tuicool&amp;utm_medium=referral" style="display:inline-block;">http://www.cnblogs.com/LittleHann/p/3698199.html</a>
            </div>
            <div>
                <span>主题</span>
                <a href="http://www.tuicool.com/topics/11000064" target="_blank">
                    <span class="new-label">数据库</span>
                </a>
                <a href="http://www.tuicool.com/topics/11120000" target="_blank">
                    <span class="new-label">PHP</span>
                </a>
            </div>
        </div>
        <div class="article_body" id="nei">
            <div>
  <p>
    <strong>相关学习资料</strong>
  </p>

    <pre class="prettyprint cs">http:<span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.php.net/manual/zh/refs.database.php</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.php.net/manual/zh/internals2.pdo.php</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">bbs.phpchina.com/thread-184537-1-1.html</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.metsky.com/archives/660.html</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.phpbuilder.com/</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.w3school.com.cn/php/php_db_odbc.asp</span></span><span style="color: #008000;"></span><span style="color: #000000;">
https:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.ibm.com/developerworks/cn/opensource/os-php-odbc/</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">blog.csdn.net/deflag/article/details/743597</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.informit.com/articles/article.aspx?p=31839&amp;seqNum=3</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">zh.wikipedia.org/wiki/Berkeley_DB</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">blog.csdn.net/zuiaituantuan/article/details/5996376</span></span><span style="color: #008000;"></span></pre>
    <p>
    <strong>目录</strong>
  </p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. PHP数据库驱动简介
</span><span style="color: #800080;">2</span>. PHP连接数据库的不同方式</pre>
    <p>
    <strong>1. PHP数据库驱动简介</strong>
  </p>
  <p>驱动是一段设计用来于一种特定类型的数据库服务器进行交互的软件代码。驱动可能会调用一些库。类似于Java中的数据库驱动的概念</p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span>. JDBC-<span style="color: #000000;">ODPC桥:
它将JDBC API映射到ODPC API。再让JDBC</span>-<span style="color: #000000;">ODPC调用数据库本地驱动代码(也就是数据库厂商提供的数据库操作二进制代码库，例如Oracle中的oci.dll)
</span><span style="color: #800080;">2</span><span style="color: #000000;">. 本地API驱动
直接将JDBC API映射成数据库特定的客户端API，即通过客户端加载数据库厂商提供的本地代码库(C／C</span>++<span style="color: #000000;">等) 
</span><span style="color: #800080;">3</span><span style="color: #000000;">. 网络协议驱动(主流)
这种类型的驱动给客户端提供了一个网络API，客户端上的JDBC驱动程序使用套接字（Socket）来调用服务器上的中间件程序，后者在将其请求转化为所需的具体API调用。
</span><span style="color: #800080;">4</span><span style="color: #000000;">. 本地协议驱动<span style="color: #000000;">(主流)</span>
这种类型的驱动使用Socket，直接在客户端和数据库间通信。它是一种直接与数据库实例交互的JDBC
这种驱动是智能的，它知道数据库使用的底层协议，也是目前最主流使用的JDBC驱动，我们本章的重点就是它</span></pre>
    <p>
    而对于PHP来说，同样主流使用的也是网络协议驱动、本地协议驱动，即MySQL客户端库、MySQL Native驱动库。 这些库实现了用于和MySQL数据库服务器进行交互的底层协议。    <br>
    数据库驱动位于PHP和数据库进行通信的最底层，不同的数据库厂商都会在基于某个框架的前提下实现自己的驱动，用以提供基本功能、以及特定数据库的高级功能。  </p>
  <p>在驱动层之上是"连接器"、或者是适配器抽象层，用于PHP代码和数据库进行连接，程序员可以使用PDO(PHP Database Object)、或者直接使用扩展接口(mysql、mysqli)这些暴露出来的API与底层数据库进行通信。</p>
  <p>
    <img style="" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/FcLXAAAAAElFTkSuQmCC" alt="">
  </p>
  <p>
    <em>
      <strong>
        <span>数据库厂商提供的底层数据库驱动</span>
      </strong>
    </em>
  </p>

    <pre class="prettyprint cs">mysql:  http:<span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.mysql.com/products/connector/</span></span><span style="color: #008000;"></span><span style="color: #000000;">
oracle: http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.oracle.com/technetwork/indexes/downloads/index.html#database</span></span><span style="color: #008000;"></span><span style="color: #000000;">
sqlserver: http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">msdn.microsoft.com/zh-cn/library/cc296170(SQL.90).aspx </span></span><span style="color: #008000;"></span>
...</pre>
    <p>
    <strong>
      <em>
        <span>文件型数据库</span>
      </em>
    </strong>
  </p>

    <pre class="prettyprint undefined">文件型是一种基于文件的数据库引擎，而且使用文件I/O(输入/输出)函数来存储和读取来自磁盘上文件的数据库。它普遍也比关系型数据库(例如Mysql)小很多很多(例如典型的文件型数据库
SQLite命令行版本的大小小于200KB)，同时，文件型数据库而且支持你所熟悉的大部分SQL命令，同时具有易于携带的特点</pre>
    <p>接下来，我们以上面这张大图作为开始，逐一学习PHP连接数据库的不同方式、以及它们在不同业务场景下的优缺点</p>
  <p>
    <strong>2. PHP连接数据库的不同方式</strong>
  </p>
  <p>
    <em>
      <span>
        <strong>0x1: 使用扩展API接口与数据库通信</strong>
      </span>
    </em>
  </p>
  <p>
    PHP代码是由一个核心，一些可选扩展组成了核心功能。PHP 的MySQL相关扩展，比如mysqli，mysql都是基于PHP扩展框架实现的。    <br>
    扩展一个典型的作用就是暴露一个API给PHP程序员，允许扩展自己的功能可以被程序员使用。当然，也有一部分基于PHP扩展框架 
开发的扩展不会给PHP程序员暴露API接口。比如说PDO 
MySQL驱动扩展，就没有向PHP程序员暴露API接口，但是向它上层的PDO层提供了一个接口。  </p>

    <pre class="prettyprint cs"><span style="color: #000000;">关于PHP扩展的编写请参阅另一篇博文
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.cnblogs.com/LittleHann/p/3562259.html</span></span><span style="color: #008000;"></span></pre>
    <p>在实际编程中，使用频度最多的还是以扩展API的方式去连接数据库</p>
  <p>
    <strong>
      <span>extension=php_mysql.dll</span>
    </strong>
  </p>
  <p>
    <span>
      
这是设计开发允许PHP应用与MySQL数据库交互的早期扩展。mysql扩展提供了一个面向过程的接口，并且是针对MySQL4.1.3或更早版本设计
的。因此，这个扩展虽然可以与MySQL4.1.3或更新的数据库服务端 进行交互，但并不支持后期MySQL服务端提供的一些特性      <br>
      mysql扩展的源代码在PHP扩展目录ext/mysql下    </span>
  </p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;">
<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;"> 连接、选择数据库</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="variable">$link</span> = mysql_connect(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">mysql_host</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">mysql_user</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">mysql_password</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Could not connect: </span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;"> . mysql_error());
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Connected successfully</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>mysql_select_db(</span><span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">my_database</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Could not select database</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">);

<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;"> 执行 SQL 查询</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="variable">$query</span> = <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">SELECT * FROM my_table</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$result</span> </span>= mysql_query(<span class="variable">$query</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Query failed: </span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;"> . mysql_error());

<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;"> 以 HTML 打印查询结果</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="keyword">echo</span> <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;table&gt;\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">while</span></span> (<span class="variable">$line</span> =<span style="color: #000000;"> mysql_fetch_array(<span class="variable">$result</span>, MYSQL_ASSOC)) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">\t&lt;tr&gt;\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">foreach</span></span> (<span class="variable">$line</span> <span style="color: #0000ff;"><span class="keyword">as</span></span><span style="color: #000000;"> <span class="variable">$col_value</span>) 
<span class="indent">  </span><span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">\t\t&lt;td&gt;$col_value&lt;/td&gt;\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="indent">  </span>}
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">\t&lt;/tr&gt;\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>}
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;/table&gt;\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;

<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;"> 释放结果集</span></span><span style="color: #008000;"></span>
<span style="color: #000000;"><span class="indent">  </span>mysql_free_result(<span class="variable">$result</span>);

<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;"> 关闭连接</span></span><span style="color: #008000;"></span>
<span style="color: #000000;"><span class="indent">  </span>mysql_close(<span class="variable">$link</span>);
</span><span class="preprocessor">?&gt;</span></pre>
    <p>
    <strong>
      <span>extension=php_mysqli.dll</span>
    </strong>
  </p>
  <p>
    <span>
      mysqli扩展，我们有时称之为MySQL增强扩展，可以用于使用MySQL4.1.3或更新版本中新的高级特性。mysqli扩展在PHP 5及以后版本中包含。      <br>
      mysqli扩展有一系列的优势，相对于mysql扩展的提升主要有：      <br>
    </span>
  </p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. 面向对象接口
</span><span style="color: #800080;">2</span><span style="color: #000000;">. prepared语句支持(即参数编译预处理，可以有效防御SQL注入的发生)
</span><span style="color: #800080;">3</span><span style="color: #000000;">. 多语句执行支持
</span><span style="color: #800080;">4</span><span style="color: #000000;">. 事务支持
</span><span style="color: #800080;">5</span><span style="color: #000000;">. 增强的调试能力
</span><span style="color: #800080;">6</span><span style="color: #000000;">. 嵌入式服务支持
</span><span style="color: #800080;">7</span>. 在提供了面向对象接口的同时也提供了一个面向过程的接口。</pre>
    <p>
    <span>mysqli扩展是使用PHP扩展框架构建的，它的源代码在PHP源码目录下的ext/mysqli中</span>
  </p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;"> 
<span class="indent">  </span><span class="variable">$con</span> </span>= <span style="color: #0000ff;"><span class="keyword">new</span></span> mysqli(<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">localhost</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">root</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">111</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">php4fun_</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> check connection </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span style="color: #0000ff;"><span class="keyword">if</span></span><span style="color: #000000;"> (mysqli_connect_errno()) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>printf(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Connect failed: %s\n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">, mysqli_connect_error());
<span class="indent">  </span><span class="indent">  </span><span class="keyword">exit</span>();
<span class="indent">  </span>}

<span class="indent">  </span><span class="variable">$sql</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">select name from users where name = ? and pass = ?</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$cmd</span> </span>= <span class="variable">$con</span>-&gt;<span style="color: #000000;">prepare(<span class="variable">$sql</span>);

<span class="indent">  </span><span class="variable">$name</span> </span>= <span class="variable">$_GET</span>[<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">name</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">];
<span class="indent">  </span><span class="variable">$pass</span> </span>= <span class="variable">$_GET</span>[<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">pass</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">];

<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">add parameters to sql query</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="variable">$cmd</span>-&gt;bind_param(<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">ss</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">, <span class="variable">$name</span>, <span class="variable">$pass</span>);
<span class="indent">  </span><span class="variable">$cmd</span></span>-&gt;<span style="color: #000000;">execute();

<span class="indent">  </span><span class="variable">$cmd</span></span>-&gt;<span style="color: #000000;">bind_result(<span class="variable">$result</span>);
<span class="indent">  </span><span class="variable">$cmd</span></span>-&gt;<span style="color: #000000;">fetch();
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">if</span></span><span style="color: #000000;">(<span class="variable">$result</span>)
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>var_dump(<span class="variable">$result</span>);
<span class="indent">  </span>}
</span><span class="preprocessor">?&gt;</span></pre>
    <p>mysqli除了可以使用参数编译预处理来进行数据库通信，同时也兼容使用面向过程的编码方式</p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;">    
    </span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> Connect to a MySQL server  连接数据库服务器 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span><span style="color: #000000;">   
    <span class="variable">$link</span> </span>=<span style="color: #000000;"> mysqli_connect(   
                </span><span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">localhost</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>,  <span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> The host to connect to 连接MySQL地址 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
                <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">root</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>,      <span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> The user to connect as 连接MySQL用户名 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
                <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">111</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>,  <span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> The password to use 连接MySQL密码 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
                <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">company</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>);    <span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> The default database to query 连接数据库名称</span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
      
    <span style="color: #0000ff;"><span class="keyword">if</span></span> (!<span style="color: #000000;"><span class="variable">$link</span>) 
    {   
        printf(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Can't connect to MySQL Server. Errorcode: %s </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">, mysqli_connect_error());   
        <span class="keyword">exit</span>;   
    }   
      
    </span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> Send a query to the server 向服务器发送查询请求</span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
    <span style="color: #0000ff;"><span class="keyword">if</span></span> (<span class="variable">$result</span> = mysqli_query(<span class="variable">$link</span>, <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">SELECT * from p8_ad_user</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">)) 
    {    
        <span class="keyword">print</span>(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Very large cities are: </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);   
      
        </span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> Fetch the results of the query 返回查询的结果 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span>   
        <span style="color: #0000ff;"><span class="keyword">while</span></span>( <span class="variable">$row</span> =<span style="color: #000000;"> mysqli_fetch_assoc(<span class="variable">$result</span>) )
        {   
            printf(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">%s (%s) </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>, <span class="variable">$row</span>[<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Name</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>], <span class="variable">$row</span>[<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">Population</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">]);   
        }   
      
        </span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> Destroy the result set and free the memory used for it 结束查询释放内存 </span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span><span style="color: #000000;">   
        mysqli_free_result(<span class="variable">$result</span>);   
    }   
      
    </span><span style="color: #008000;"><span class="comment">/*</span></span><span class="comment"><span style="color: #008000;"> Close the connection 关闭连接</span><span style="color: #008000;">*/</span></span><span style="color: #008000;"></span><span style="color: #000000;">   
    mysqli_close(<span class="variable">$link</span>);   
</span><span class="preprocessor">?&gt;</span></pre>
    <p>PHP还支持很多其他的数据库连接扩展，使用方法都类似，只要遵循函数调用规范即可，更多详情请参阅</p>
  <p>
    <a href="http://www.php.net/manual/zh/refs.database.php" rel="nofollow,noindex">http://www.php.net/manual/zh/refs.database.php</a>
  </p>
  <p>
    <em>
      <span>
        <strong>0x2: 使用PDO抽象层与数据库通信</strong>
      </span>
    </em>
  </p>
  <p>
    PDO(PHP数据对象 PHP Database 
Object)，是PHP应用中的一个数据库抽象层规范。PDO提供了一个统一的API接口可以使得你的PHP应用不去关心具体要连接的数据库服务器系统
类型。也就是说，如果你使用PDO的API，可以在任何需要的时候无缝切换数据库服务器，比如从Firebird到MySQL，仅仅需要修改很少的PHP
代码。    <br>
    其他数据库抽象层的例子包括Java应用中的JDBC以及Perl中的DBI。  </p>

    <pre class="prettyprint sql">注意: 利用 P<span class="operator"><span class="keyword">DO</span> 扩展自身并不能实现任何数据库功能；必须使用一个具体数据库的PDO驱动来访问数据库服务(它只是一个接口规范)</span></pre>
    <p>但是反过来说，一个接口提供的兼容性越强，它的定制性、特异性就相应越弱(这很容易理解)，PDO接口API的主要缺点是会限制让你不能使用MySQL服务端提供所有的数据库高级特性。比如，PDO不允许使用MySQL支持的多语句执行。</p>
  <p>在PHP5中，PDO目前已经支持大量数据库，并且在PHP6中将作为默认数据库连接方式:</p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. sqlite
</span><span style="color: #800080;">2</span><span style="color: #000000;">. mysql
</span><span style="color: #800080;">3</span><span style="color: #000000;">. pgsql
</span><span style="color: #800080;">4</span><span style="color: #000000;">. mssql 
...</span></pre>
    <p>PDO是基于PHP扩展框架实现的，它的源码在PHP源码目录的ext/pdo下</p>
  <p>再次强调，PDO只是一个接口规范，它自身并不实现任何的数据库功能，程序员必须使用一个具体数据库的"PDO驱动"来访问特定的数据库</p>
  <p>
    <strong>
      <span>extension=php_pdo_mysql.dll</span>
    </strong>
  </p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;">
<span class="indent">  </span><span class="variable">$dbhost</span></span>=<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">localhost</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$dbname</span></span>=<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">company</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$dbusr</span></span>=<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">root</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$dbpwd</span></span>=<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">111</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$dbhdl</span></span>=<span style="color: #000000;"><span class="keyword">NULL</span>;
<span class="indent">  </span><span class="variable">$dbstm</span></span>=<span style="color: #000000;"><span class="keyword">NULL</span>;

<span class="indent">  </span><span class="variable">$opt</span> </span>= <span class="keyword">array</span>(PDO::MYSQL_ATTR_INIT_COMMAND =&gt; <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">SET NAMES utf8</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">,); 
<span class="indent">  </span><span class="variable">$dsn</span></span>=<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">mysql:host=</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span> . <span class="variable">$dbhost</span> . <span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">;port=3306;dbname=</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;"> . <span class="variable">$dbname</span>;
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">try</span></span><span style="color: #000000;"> 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="variable">$dbhdl</span> </span>= <span style="color: #0000ff;"><span class="keyword">new</span></span><span style="color: #000000;"> PDO(<span class="variable">$dsn</span>, <span class="variable">$dbusr</span>, <span class="variable">$dbpwd</span>, <span class="variable">$opt</span>); 
<span class="indent">  </span><span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">Display exception</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="indent">  </span><span class="variable">$dbhdl</span>-&gt;<span style="color: #000000;">setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);
<span class="indent">  </span>} 
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">catch</span></span><span style="color: #000000;"> (PDOExceptsddttrtion <span class="variable">$e</span>) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">return PDOException</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="indent">  </span><span class="keyword">print</span> <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Error!: </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> . <span class="variable">$e</span>-&gt;getMessage() . <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;br&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="indent">  </span><span class="keyword">die</span>();
<span class="indent">  </span>}

<span class="indent">  </span><span class="variable">$dbstm</span> </span>= <span class="variable">$dbhdl</span>-&gt;query(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">SELECT * from p8_ad_user LIMIT 0,1</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span><span class="variable">$rows</span> </span>= <span class="variable">$dbstm</span>-&gt;fetchAll(PDO::FETCH_ASSOC);<span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">$rows = $dbhdl-&gt;Fetch();</span></span><span style="color: #008000;"></span>
<span style="color: #000000;"><span class="indent">  </span>print_r(<span class="variable">$rows</span>);
</span><span class="preprocessor">?&gt;</span></pre>
    <p>
    <strong>
      <span>extension=php_pdo_pgsql.dll</span>
    </strong>
  </p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;">
<span class="indent">  </span><span class="variable">$host</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">localhost</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$user</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">root</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$pass</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">111</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$db</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">company</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">; 
<span class="indent">  </span><span class="variable">$cursor</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">cr_123456</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;

<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">try</span></span><span style="color: #000000;">
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="variable">$dbh</span> </span>= <span style="color: #0000ff;"><span class="keyword">new</span></span> PDO(<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">pgsql:host=$host;port=5432;dbname=$db;user=$user;password=$pass</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Connected&lt;p&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>}
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">catch</span></span><span style="color: #000000;"> (<span class="keyword">Exception</span> <span class="variable">$e</span>)
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Unable to connect: </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> . <span class="variable">$e</span>-&gt;getMessage() .<span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;p&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>} 
<span class="indent">  </span><span class="variable">$dbh</span></span>-&gt;<span style="color: #000000;">beginTransaction();
<span class="indent">  </span><span class="variable">$query</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">SELECT * from p8_ad_user LIMIT 0,1</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">; 
<span class="indent">  </span><span class="variable">$dbh</span></span>-&gt;<span style="color: #000000;">query(<span class="variable">$query</span>); 
<span class="indent">  </span><span class="variable">$query</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">FETCH ALL IN \"$cursor\"</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;

<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">begin data&lt;p&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">; 
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">foreach</span></span> (<span class="variable">$dbh</span>-&gt;query(<span class="variable">$query</span>) <span style="color: #0000ff;"><span class="keyword">as</span></span><span style="color: #000000;"> <span class="variable">$row</span>)
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">$row[0] $row[1] $row[2] &lt;br&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>}  
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">end data</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
</span><span class="preprocessor">?&gt;</span></pre>
    <p>这里只以Mysql、PostGreSQL为例，事实上，PDO这种抽象层方式可以访问目前主流的大多数的数据库，并且PDO将成为PHP6的默认数据库连接方式，更多详情请参阅</p>
  <p>
    <a href="http://www.php.net/manual/zh/book.pdo.php" rel="nofollow,noindex">http://www.php.net/manual/zh/book.pdo.php</a>
  </p>
  <p>
    <strong>
      <span>&nbsp;</span>
    </strong>
  </p>
  <p>
    <strong>
      <span>
        <em>
          <span>
            <strong>0x3: 使用ODBC抽象层与数据库通信</strong>
          </span>
        </em>
      </span>
    </strong>
  </p>
  <p>
    <span>ODBC是一种应用程序编程接口(Application Programming Interface，API)，使我们有能力连接到某个数据源(比如一个MS Access 数据库)</span>
  </p>
  <p>
    <span>
      试图通过编程语言和数据库查询访问(SQL标准化)来标准化连接方法，比如功能和配置。      <br>
      ODBC的作用是充当接口或连接器，它具有双重设计目标：      <br>
    </span>
  </p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. 首先，对于ODBC 系统，它充当的是编程语言系统
</span><span style="color: #800080;">2</span>. 其次，对于数据存储系统，它充当的是 ODBC 系统。</pre>
    <p>
    <span>
      所以，ODBC 
需要一个"对ODBC而言是编程语言"的驱动程序(例如PHP-ODBC库)和一个"对数据存储系统而言是ODBC"的驱动程序(比如 
MySQL-ODBC库)。除了ODBC系统本身之外，ODBC还可以处理数据源的配置，允许数据源和编程语言之间存在模糊性。      <br>
      和之前学习的扩展API接口、PDO略有不同的是，使用ODBC连接数据库要稍微麻烦一点(至少我个人这么觉得)，这个"麻烦"体现在我们需要对目标数据库服务器的操作系统进行一些配置，即创建ODBC数据源，然后才可以进行ODBC连接      <br>
      创建到达 MS Access 数据的 ODBC 连接的方法：      <br>
    </span>
  </p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. 在控制面板中打开管理工具
</span><span style="color: #800080;">2</span><span style="color: #000000;">. 双击其中的数据源 (ODBC)图标
</span><span style="color: #800080;">3</span><span style="color: #000000;">. 选择系统 DSN 选项卡
</span><span style="color: #800080;">4</span>. 点击系统 DSN 选项卡中的<span style="color: #800000;">"</span><span style="color: #800000;">添加</span><span style="color: #800000;">"</span><span style="color: #000000;">按钮
</span><span style="color: #800080;">5</span><span style="color: #000000;">. 选择 Microsoft Access Driver。点击完成
</span><span style="color: #800080;">6</span><span style="color: #000000;">. 在下一个界面，点击“选择”来定位数据库
</span><span style="color: #800080;">7</span><span style="color: #000000;">. 为这个数据库取一个数据源名 (DSN)
</span><span style="color: #800080;">8</span>. 点击确定</pre>
    <p>code:</p>

    <pre class="prettyprint php">&lt;html&gt;
&lt;body&gt; 
<span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;">
<span class="indent">  </span></span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">连接一个ODBC数据源，无帐号、密码</span></span><span style="color: #008000;"></span>
<span class="indent">  </span><span class="variable">$conn</span> = odbc_connect(<span style="color: #800000;"><span class="string">'</span></span><span class="string"><span style="color: #800000;">northwind</span><span style="color: #800000;">'</span></span><span style="color: #800000;"></span>, <span style="color: #800000;"><span class="string">''</span></span>, <span style="color: #800000;"><span class="string">''</span></span><span style="color: #000000;">);
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">if</span></span> (!<span style="color: #000000;"><span class="variable">$conn</span>)
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="keyword">exit</span>(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Connection Failed: </span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> . <span class="variable">$conn</span>);
<span class="indent">  </span>}
<span class="indent">  </span><span class="variable">$sql</span> </span>= <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">SELECT * FROM p8_ad_user</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="variable">$rs</span> </span>=<span style="color: #000000;"> odbc_exec(<span class="variable">$conn</span>, <span class="variable">$sql</span>);
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">if</span></span> (!<span style="color: #000000;"><span class="variable">$rs</span>)
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="keyword">exit</span>(</span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">Error in SQL</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span>}
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;table&gt;&lt;tr&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;th&gt;Companyname&lt;/th&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;th&gt;Contactname&lt;/th&gt;&lt;/tr&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span></span><span style="color: #0000ff;"><span class="keyword">while</span></span><span style="color: #000000;"> (odbc_fetch_row(<span class="variable">$rs</span>))
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span><span class="variable">$username</span> </span>= odbc_result(<span class="variable">$rs</span>, <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">username</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span><span class="indent">  </span><span class="variable">$password</span> </span>= odbc_result(<span class="variable">$rs</span>, <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">password</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">);
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;tr&gt;&lt;td&gt;$username&lt;/td&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;td&gt;$password&lt;/td&gt;&lt;/tr&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
<span class="indent">  </span>}
<span class="indent">  </span>odbc_close(<span class="variable">$conn</span>);
<span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">&lt;/table&gt;</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;">;
</span><span class="preprocessor">?&gt;</span>
&lt;/body&gt;
&lt;/html&gt;</pre>
    <p>
    <span>
      <strong>
        <span>
          <em>
            <span>
              <strong>0x4: 使用DBX与数据库通信</strong>
            </span>
          </em>
        </span>
      </strong>
    </span>
  </p>
  <p>
    <span>
      PHP本身内置了DBX函数，DBX模块是一个数据库抽象层(DBX中的"X"就表示其所能支持的X种数据库)。DBX函数允许你访问所有DBX支持的数据库。      <br>
      DBX支持下列数据库：      <br>
    </span>
  </p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. Mysql
</span><span style="color: #800080;">2</span><span style="color: #000000;">. ODBC
</span><span style="color: #800080;">3</span><span style="color: #000000;">. PgSQL
</span><span style="color: #800080;">4</span><span style="color: #000000;">. Mssql(Microsoft SQL Server)
</span><span style="color: #800080;">5</span>. Fbsql</pre>
    <p>
    <span>download:</span>
  </p>

    <pre class="prettyprint cs">http:<span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">pecl.php.net/package/dbx</span></span><span style="color: #008000;"></span><span style="color: #000000;">
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">rpmfind.net/linux/rpm2html/search.php?query=php-dbx</span></span><span style="color: #008000;"></span></pre>
    <p>code:</p>

    <pre class="prettyprint xml"><span class="tag">&lt;<span class="title">html</span>&gt;</span>
<span class="tag">&lt;<span class="title">head</span>&gt;</span>
<span class="indent">  </span><span class="tag">&lt;<span class="title">title</span>&gt;</span>A PHP-DBX URL Organizer<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
<span class="indent">  </span><span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">text</span>/<span class="attribute">css</span>&gt;</span><span style="color: #000000;"><span class="css">
<span class="indent">  </span><span class="indent">  </span><span class="tag">p</span>, <span class="tag">ul</span>, <span class="tag">td</span>, <span class="tag">h1</span>, <span class="tag">h2</span>, <span class="tag">h3</span> 
<span class="indent">  </span><span class="indent">  </span><span class="rules">{
<span class="indent">  </span><span class="indent">  </span><span class="indent">  </span><span class="rule"><span class="attribute">font</span></span></span></span></span><span class="css"><span class="rules"><span class="rule"><span class="attribute">-family</span>:<span class="value"> verdana, helvetica, sans-<span style="color: #000000;">serif;</span></span><span style="color: #000000;"></span></span><span style="color: #000000;">
<span class="indent">  </span><span class="indent">  </span><span class="rule">}</span></span></span><span style="color: #000000;">
<span class="indent">  </span></span></span><span style="color: #000000;"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
<span class="tag">&lt;/<span class="title">head</span>&gt;</span>
<span class="tag">&lt;<span class="title">body</span>&gt;</span>
<span class="pi">&lt;?
<span style="color: #008000;">/*</span><span style="color: #008000;">****
* TABLE DEFINITION FOR THIS EXAMPLE:
*	create table URLS (
*	url VARCHAR(128) not null,
*	description TEXT,
*	primary key (url));
****</span><span style="color: #008000;">*/</span>
<span style="color: #008000;">//</span><span style="color: #008000;">define $MODULE as DBX_MYSQL, DBX_MSSQL, DBX_PGSQL, or your supported database</span>
$MODULE =<span style="color: #000000;"> DBX_PGSQL;
$server </span>= <span style="color: #800000;">"</span><span style="color: #800000;">localhost</span><span style="color: #800000;">"</span><span style="color: #000000;">;
$user </span>= <span style="color: #800000;">"</span><span style="color: #800000;">root</span><span style="color: #800000;">"</span><span style="color: #000000;">;
$password </span>= <span style="color: #800000;">"</span><span style="color: #800000;">111</span><span style="color: #800000;">"</span><span style="color: #000000;">;
$database </span>= <span style="color: #800000;">"</span><span style="color: #800000;">company</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008000;">/*</span><span style="color: #008000;"> FUNCTIONS </span><span style="color: #008000;">*/</span><span style="color: #000000;">
function get_urls($dbconn, $sql) 
{
<span class="indent">  </span>$result </span>=<span style="color: #000000;"> @dbx_query($dbconn, $sql);
<span class="indent">  </span></span><span style="color: #0000ff;">if</span> ( $result == <span style="color: #800080;">0</span><span style="color: #000000;"> ) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>echo dbx_error($dbconn);
<span class="indent">  </span>} 
<span class="indent">  </span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span></span><span style="color: #0000ff;">return</span><span style="color: #000000;"> $result;
<span class="indent">  </span>}
}

function url($action, $dbconn, $url, $description) 
{
<span class="indent">  </span></span><span style="color: #0000ff;">if</span>($action == <span style="color: #800000;">"</span><span style="color: #800000;">add</span><span style="color: #800000;">"</span><span style="color: #000000;">) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>$sql </span>= <span style="color: #800000;">"</span><span style="color: #800000;">insert into URLS values('$url', '$description')</span><span style="color: #800000;">"</span><span style="color: #000000;">;
<span class="indent">  </span>}
<span class="indent">  </span>elseif($action </span>== <span style="color: #800000;">"</span><span style="color: #800000;">delete</span><span style="color: #800000;">"</span><span style="color: #000000;">) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>$url </span>=<span style="color: #000000;"> urldecode($url);
<span class="indent">  </span><span class="indent">  </span>$sql </span>= <span style="color: #800000;">"</span><span style="color: #800000;">delete from URLS where URL = '$url'</span><span style="color: #800000;">"</span><span style="color: #000000;">;
<span class="indent">  </span>}
<span class="indent">  </span>$result </span>=<span style="color: #000000;"> @dbx_query($dbconn, $sql);
<span class="indent">  </span></span><span style="color: #0000ff;">if</span> ( $result == <span style="color: #800080;">0</span><span style="color: #000000;"> ) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>echo </span><span style="color: #800000;">"</span><span style="color: #800000;">&lt;P&gt;ERROR ADDING URL: </span><span style="color: #800000;">"</span><span style="color: #000000;"> . dbx_error($dbconn);
<span class="indent">  </span>} 
<span class="indent">  </span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>print(</span><span style="color: #800000;">"</span><span style="color: #800000;">&lt;p&gt;$action : $url succeeded!&lt;p&gt;</span><span style="color: #800000;">"</span><span style="color: #000000;">);
<span class="indent">  </span>}
}

</span><span style="color: #008000;">/*</span><span style="color: #008000;">** MAIN **</span><span style="color: #008000;">*/</span><span style="color: #000000;">
$dbconn </span>= dbx_connect($MODULE, $server, $database, $user, $password) or die(<span style="color: #800000;">"</span><span style="color: #800000;">CANNOT CONNECT TO DATABASE</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span>?&gt;</span>

<span class="tag">&lt;<span class="title">h1</span>&gt;</span>PHP DBX URL Organizer<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
<span class="tag">&lt;<span class="title">form</span> <span class="attribute">action</span>=<span class="value">dbx_urls.php</span> <span class="attribute">method</span>=<span class="value">post</span>&gt;</span>
<span class="tag">&lt;<span class="title">p</span>&gt;</span><span class="tag">&lt;<span class="title">b</span>&gt;</span>Add a URL:<span class="tag">&lt;/<span class="title">b</span>&gt;</span>
<span class="tag">&lt;<span class="title">br</span>&gt;</span>URL: <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">text</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">name</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">url</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">maxlength</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">128</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">value</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">http://</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>&gt;</span> Description: <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">text</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">name</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">description</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>&gt;</span> 
<span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">submit</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">name</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">addurl</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> <span class="attribute">value</span>=<span style="color: #800000;"><span class="value">"</span></span><span class="value"><span style="color: #800000;">Add URL!</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span>&gt;</span>
<span class="tag">&lt;/<span class="title">form</span>&gt;</span>
<span class="pi">&lt;?
<span class="indent">  </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(isset($addurl)) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>url(</span><span style="color: #800000;">"</span><span style="color: #800000;">add</span><span style="color: #800000;">"</span><span style="color: #000000;">, $dbconn, $url, $description);
<span class="indent">  </span>}
<span class="indent">  </span></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(isset($delete)) 
<span class="indent">  </span>{
<span class="indent">  </span><span class="indent">  </span>url(</span><span style="color: #800000;">"</span><span style="color: #800000;">delete</span><span style="color: #800000;">"</span>, $dbconn, $delete, <span style="color: #800000;">""</span><span style="color: #000000;">);
<span class="indent">  </span>}
<span class="indent">  </span>$sql </span>= <span style="color: #800000;">"</span><span style="color: #800000;">select * from URLS</span><span style="color: #800000;">"</span><span style="color: #000000;">;
<span class="indent">  </span>$result </span>=<span style="color: #000000;"> get_urls($dbconn, $sql);
<span class="indent">  </span></span><span style="color: #0000ff;">if</span>(<span style="color: #0000ff;">sizeof</span>($result-&gt;data) == <span style="color: #800080;">0</span><span style="color: #000000;">) 
<span class="indent">  </span>{
</span>?&gt;</span>
<span class="tag">&lt;<span class="title">h3</span>&gt;</span>Sorry, there are no URLs <span style="color: #0000ff;">in</span><span style="color: #000000;"> the database. You should add some.
</span><span class="pi">&lt;?<span style="color: #000000;">
<span class="indent">  </span>} 
<span class="indent">  </span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> 
<span class="indent">  </span>{
</span>?&gt;</span>
<span class="tag">&lt;<span class="title">p</span>&gt;</span>
<span class="tag">&lt;<span class="title">table</span> <span class="attribute">border</span>=<span style="color: #800080;"><span class="value">1</span></span> <span class="attribute">cellpadding</span>=<span style="color: #800080;"><span class="value">5</span></span> <span class="attribute">cellspacing</span>=<span style="color: #800080;"><span class="value">0</span></span> <span class="attribute">width</span>=<span style="color: #800080;"><span class="value">600</span></span>&gt;</span>
<span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">b</span>&gt;</span>URL<span class="tag">&lt;/<span class="title">b</span>&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>
<span class="tag">&lt;<span class="title">b</span>&gt;</span>Description<span class="tag">&lt;/<span class="title">b</span>&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span> <span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
<span class="pi">&lt;?
<span class="indent">  </span><span style="color: #0000ff;">for</span>($i = <span style="color: #800080;">0</span>; $i &lt; <span style="color: #0000ff;">sizeof</span>($result-&gt;data); $i++<span style="color: #000000;">) 
<span class="indent">  </span>{
</span>?&gt;</span>
<span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">&lt;?=$result-</span>&gt;</span>data[$i][<span style="color: #800000;">'</span><span style="color: #800000;">url</span><span style="color: #800000;">'</span>]?&gt;&gt;<span class="pi">&lt;?=$result-&gt;data[$i][<span style="color: #800000;">'</span><span style="color: #800000;">url</span><span style="color: #800000;">'</span>]?&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span>
<span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="pi">&lt;?=$result-&gt;data[$i][<span style="color: #800000;">'</span><span style="color: #800000;">description</span><span style="color: #800000;">'</span>]?&gt;</span><span class="tag">&lt;/<span class="title">td</span>&gt;</span>
<span class="tag">&lt;<span class="title">td</span> <span class="attribute">width</span>=<span style="color: #800080;"><span class="value">1</span></span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">dbx_urls.php?delete=&lt;?=urlencode($result-</span>&gt;</span>data[$i][<span style="color: #800000;">'</span><span style="color: #800000;">url</span><span style="color: #800000;">'</span>])?&gt;&gt;delete<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
<span class="pi">&lt;?<span style="color: #000000;">
<span class="indent">  </span>}
</span>?&gt;</span><span class="tag">&lt;/<span class="title">table</span>&gt;</span>
<span class="pi">&lt;?<span style="color: #000000;">
<span class="indent">  </span>}
</span>?&gt;</span>
<span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></pre>
    <p>
    <span>
      <strong>
        <span>
          <em>
            <span>
              <strong>0x5: 使用DBA(Database (dbm-style) Abstraction Layer)与数据库通信</strong>
            </span>
          </em>
        </span>
      </strong>
    </span>
  </p>
  <p>
    <span>PHP的DBA抽象层是用来支持Berkeley DB这种文件型数据库的。</span>
  </p>

    <pre class="prettyprint bash">These functions build the foundation <span style="color: #0000ff;"><span class="keyword">for</span></span> accessing Berkeley DB style databases.</pre>
    <p>
    在柏克莱的BSD系列操作系统中，有个简单的数据库结构，它以数个文件组成超小型的数据库系统，架构成抽象层(abstraction layer)的DBA数据库。    <br>
    目前PHP支持的DBA数据库包括  </p>

    <pre class="prettyprint cs"><span style="color: #800080;"><span class="number">1</span></span><span class="number"><span style="color: #000000;">.</span></span><span style="color: #000000;"> DBM: 柏克莱发展的最早期DBA数据库
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">en.wikipedia.org/wiki/Dbm</span></span><span style="color: #008000;"></span>
<span style="color: #800080;"><span class="number">2</span></span><span class="number"><span style="color: #000000;">.</span></span><span style="color: #000000;"> NDBM: 较新且较有弹性的DBA
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">en.wikipedia.org/wiki/NDBM</span></span><span style="color: #008000;"></span>
<span style="color: #800080;"><span class="number">3</span></span><span class="number"><span style="color: #000000;">.</span></span><span style="color: #000000;"> GDBM: GNU 发展的DBA
ftp:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">ftp.gnu.org/pub/gnu/gdbm/</span></span><span style="color: #008000;"></span>
<span style="color: #800080;"><span class="number">4</span></span><span class="number"><span style="color: #000000;">.</span></span><span style="color: #000000;"> DB2: 由Sleepycat软件开发的DB2(非IBM的DB2)
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">www.openldap.org/lists/openldap-software/199905/msg00009.html</span></span><span style="color: #008000;"></span>
<span style="color: #800080;"><span class="number">5</span></span><span class="number"><span style="color: #000000;">.</span></span><span style="color: #000000;"> CDB: 这是qmail作者开发快速可靠的DBA
http:</span><span style="color: #008000;"><span class="comment">//</span></span><span class="comment"><span style="color: #008000;">pobox.com/~djb/cdb.html</span></span><span style="color: #008000;"></span></pre>
    <p>安装好DBA后，使用如下代码进行连接</p>

    <pre class="prettyprint php"><span class="preprocessor">&lt;?<span style="color: #000000;">php</span></span><span style="color: #000000;"> 
　　<span class="variable">$id</span> </span>= dba_open ( <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">/tmp/test.db</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> , <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">n</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> , <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">db2</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> );  
　　</span><span style="color: #0000ff;"><span class="keyword">if</span></span>(!<span style="color: #000000;"> <span class="variable">$id</span> ) 
<span class="indent">  </span>{   
<span class="indent">  </span><span class="indent">  </span><span class="keyword">echo</span> </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">dba_open failedn</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> ; 
　　　　<span class="keyword">exit</span>; 
　　}  
　　dba_replace ( </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">key</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span> , <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">This is an example!</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> , <span class="variable">$id</span> ); 
　　</span><span style="color: #0000ff;"><span class="keyword">if</span></span>( dba_exists ( <span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">key</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> , <span class="variable">$id</span> )) 
<span class="indent">  </span>{ 
　　　　<span class="keyword">echo</span> dba_fetch ( </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">key</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> , <span class="variable">$id</span> ); 
　　　　dba_delete ( </span><span style="color: #800000;"><span class="string">"</span></span><span class="string"><span style="color: #800000;">key</span><span style="color: #800000;">"</span></span><span style="color: #800000;"></span><span style="color: #000000;"> , <span class="variable">$id</span> ); 
　　} 

　　dba_close ( <span class="variable">$id</span> ); 
</span><span class="preprocessor">?&gt;</span></pre>
    <p>
    <span>
      <strong>
        <strong>
          <strong>3. 后记</strong>
        </strong>
      </strong>
    </span>
  </p>
  <p>
    <span>以上就是PHP连接数据库的不同方式的学习，通过本文的学习，我们了解到一点</span>
  </p>

    <pre class="prettyprint sql"><span style="color: #000000;">目前PHP开发中主流使用的连接数据库的技术是
</span><span style="color: #800080;">1</span><span style="color: #000000;">. Mysql扩展API
</span><span style="color: #800080;">2</span><span style="color: #000000;">. Mysqli扩展API
</span><span style="color: #800080;">3</span>. P<span class="operator"><span class="keyword">DO</span>抽象层</span></pre>
    <p>下一步希望做的事</p>

    <pre class="prettyprint undefined"><span style="color: #800080;">1</span><span style="color: #000000;">. 研究一下PHP和mysql进行交互的协议驱动的底层原理
</span><span style="color: #800080;">2</span>. 尝试编程简单的通信协议驱动</pre>
    <p>
    <span>
      <em>
        <strong>Copyright (c) 2014 LittleHann All rights reserved</strong>
      </em>
    </span>
  </p>
</div>

        </div>
        <div class="article_social">
         <div class="article_like">
    <div class="circle circle-like" id="my_zan" data_id="ze2Qru">
    </div>
</div>
        <div id="share_weixin_image">
            <img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/qrcode.png" height="100px" width="100px">
        </div>
<div class="article_share_fav">
    <div class="share" id="ckepop">
        <span>分享</span>
        <button class="share_weibo" id="share_weibo_id" title="分享到新浪微博"></button>
        <button class="share_qq" id="share_qq_id" title="分享到QQ空间"></button>
        <button class="share_weixin" id="share_weixin_id"></button>
    </div>
    <div class="fav_correct">
        <button id="my_fav" data_id="ze2Qru">
            <i class="icon icon-star-empty"></i> <span id="fav_tip">收藏</span>
        </button>
        <button id="article-correct" data_id="ze2Qru">
            <i class="icon icon-warning-sign"></i>
            <span>纠错</span>
        </button>
    </div>
</div>
<script type="text/javascript">
$("#share_weibo_id").click( function() {
   window.open("http://share.baidu.com/s?type=text&searchPic=0&sign=on&to=tsina&url=http://www.tuicool.com/articles/ze2Qru&title=PHP+%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86+-+.Little+Hann++%28%E5%88%86%E4%BA%AB%E8%87%AA+%40%E6%8E%A8%E9%85%B7%E7%BD%91%29&key=3113829255");
});
$("#share_qq_id").click( function() {
   window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.tuicool.com/articles/ze2Qru&title=PHP+%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86+-+.Little+Hann&desc=&summary=&site=");
});
$("#share_weixin_id").click( function() {
  $("#share_weixin_image").toggle();
});
</script>


            <div class="bottom_ad huodong-detail-ad-banner clearfix">
            <script type="text/javascript">
    var cpro_id = "u1665123";
</script>
<script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u1665123_0"><iframe id="cproIframe_u1665123_1" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/acom.htm" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="true" align="center,center" frameborder="0" height="90" width="580"></iframe></div><script charset="utf-8" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/acom"></script>

            </div>
        </div>
        <div id="site_articles" style="clear:both;">
              <div class="article-part-title">
                <span>推荐文章</span>
              </div>
          <ul class="side_article_list">
                <li class="side_article_list_item">
                    1.<a href="http://www.tuicool.com/articles/iiEbUrR" target="_blank" title="Pinpoint —— 应用性能管理工具">
                    Pinpoint —— 应用性能管理工具
                    </a>
                </li>
                <li class="side_article_list_item">
                    2.<a href="http://www.tuicool.com/articles/AvmYZzr" target="_blank" title="在系统中生成业务ID的几种方法">
                    在系统中生成业务ID的几种方法
                    </a>
                </li>
                <li class="side_article_list_item">
                    3.<a href="http://www.tuicool.com/articles/MZfMjeA" target="_blank" title="JDBC项目实践">
                    JDBC项目实践
                    </a>
                </li>
                <li class="side_article_list_item">
                    4.<a href="http://www.tuicool.com/articles/26JN73J" target="_blank" title="SQL Server最近怎样了">
                    SQL Server最近怎样了
                    </a>
                </li>
                <li class="side_article_list_item">
                    5.<a href="http://www.tuicool.com/articles/2iQr2u" target="_blank" title="如何解决mysql stop fail的问题">
                    如何解决mysql stop fail的问题
                    </a>
                </li>
                <li class="side_article_list_item">
                    6.<a href="http://www.tuicool.com/articles/mui2E37" target="_blank" title="关于DButils的简单介绍">
                    关于DButils的简单介绍
                    </a>
                </li>
          </ul>
        </div>
        <div id="kan_articles"> <div class="article-part-title"> <span>相关推刊</span></div><ul class="kan-list">          <li class="kan-item">            <a href="http://www.tuicool.com/kans/3959081856" target="_blank" class="kan-item-head">              <small>刊主：Youn</small>              <img class="kan-cover" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/3MZ7jq.png">            </a>            <span class="kan-detail">              <a href="http://www.tuicool.com/kans/3959081856" target="_blank">《默认推刊》</a>              <i class="kan-num">567</i>            </span>          </li>                  <li class="kan-item">            <a href="http://www.tuicool.com/kans/2770993249" target="_blank" class="kan-item-head">              <small>刊主：哎呦对极了</small>              <img class="kan-cover" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/fYnAny2.png">            </a>            <span class="kan-detail">              <a href="http://www.tuicool.com/kans/2770993249" target="_blank">《默认推刊》</a>              <i class="kan-num">5377</i>            </span>          </li>        </ul><i class="clearfix"></i></div>
        <div id="article_weibo" style="display:none;">
            <div class="article-part-title">
                <span>相关微博</span>
                <sub>
                    <a href="http://www.tuicool.com/articles/weibo_list/ze2Qru" target="_blank">(<i id="weibo_num"></i>)</a> 
               </sub>
            </div>
            <div class="related-weibo-list"></div>
        </div>
        <div class="comments">
    <div class="comments-area">
    <div class="comments-header">
        <h5>我来评几句</h5>
        <div class="alert comment-alert alert-error" style="display:none;">
            错误
        </div>
            <textarea cols="60" rows="5" id="comment-body" placeholder="请输入评论内容..." style="resize: none;"></textarea>
            <span class="btn btn-medium btn-submit" id="comment-submit">登录后评论</span>
        <p style="margin-top: 5px;margin-left:10px;">
            已发表评论数(<span class="comment_cnt">0</span>)
        </p>
    </div>
    <div class="comments-list">
        <div class="empty-cmts alert alert-success" style="display:none;">
            没有更多评论了^^
        </div>
    </div>
    <div class="more-comments" style="display:none;">
        <a href="">更多评论</a>
    </div>
    <div class="load-fail" style="display:none;">
        评论加载失败，<a href="javascript:reload_comments('ze2Qru',1,0,-1);">重新加载</a>
    </div>
    </div>
</div>

    </div>
        <div class="span4 article_right_side">
            <div class="right_top">
    <div class="article_related_site article_detail_bg">
    <h4 class="article-part-title">相关站点</h4>
    <div class="article_related_site_body clearfix">
        <div class="logo">
            <img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/qQzyuar.png">
        </div>
        <div class="name">
            <div>
                <a href="http://www.tuicool.com/sites/qQzyuar" target="_blank"> 博客园_.Little Hann</a>
            </div>
            <div>
                    <input class="btn btn-success right_site_follow" value="+&nbsp;订阅" id="my_follow" data_id="qQzyuar" type="button">
            </div>
        </div>
    </div>
</div>

<div class="right-ad">
      <script type="text/javascript">BAIDU_CLB_fillSlot("1171216");</script><div id="BAIDU_DUP_wrapper_1171216_0"><iframe id="baidu_clb_slot_iframe_1171216_0" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ze2Qru_data_003/ads_data/a.htm" onload="BAIDU_DUP_CLB_renderFrame('1171216_0')" vspace="0" hspace="0" allowtransparency="true" scrolling="no" marginwidth="0" marginheight="0" style="border:0; vertical-align:bottom; margin:0; display:block;" frameborder="0" height="150" width="300"></iframe></div><script charset="utf-8" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ecom_002"></script><script charset="utf-8" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/fixed7o.js"></script>

</div>
<div class="right-ad" style="margin-top: 8px">
      <a href="http://yacebao.com/?utm_source=web&amp;utm_medium=banner&amp;utm_campaign=tuicool" target="_blank"><img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/yunzhihui300.jpg"></a>

</div>
<div class="right-ad" style="margin-top: 8px">
      <a href="https://www.teambition.com/?utm_source=tuicool&amp;utm_medium=banner01" target="_blank"><img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/teambition300.jpg"></a>

</div>
<div class="right-ad" style="margin-top: 8px">
      <script type="text/javascript">BAIDU_CLB_fillSlot("1161131");</script><div id="BAIDU_DUP_wrapper_1161131_0"><iframe id="baidu_clb_slot_iframe_1161131_0" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ze2Qru_data_003/ads_data/a.htm" onload="BAIDU_DUP_CLB_renderFrame('1161131_0')" vspace="0" hspace="0" allowtransparency="true" scrolling="no" marginwidth="0" marginheight="0" style="border:0; vertical-align:bottom; margin:0; display:block;" frameborder="0" height="150" width="300"></iframe></div><script charset="utf-8" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/ecom"></script>

</div>
<div id="right_site_articles" class="article_detail_bg">
    <div class="article-part-title">
        <span>热门文章</span>
    </div>
    <ul class="side_article_list">
        <li class="side_article_list_item">
            1.<a href="http://www.tuicool.com/articles/iiEbUrR" target="_blank" title="Pinpoint —— 应用性能管理工具"> Pinpoint —— 应用性能管理工具 </a>
        </li>
        <li class="side_article_list_item">
            2.<a href="http://www.tuicool.com/articles/AvmYZzr" target="_blank" title="在系统中生成业务ID的几种方法"> 在系统中生成业务ID的几种方法 </a>
        </li>
        <li class="side_article_list_item">
            3.<a href="http://www.tuicool.com/articles/MZfMjeA" target="_blank" title="JDBC项目实践"> JDBC项目实践 </a>
        </li>
        <li class="side_article_list_item">
            4.<a href="http://www.tuicool.com/articles/26JN73J" target="_blank" title="SQL Server最近怎样了"> SQL Server最近怎样了 </a>
        </li>
        <li class="side_article_list_item">
            5.<a href="http://www.tuicool.com/articles/2iQr2u" target="_blank" title="如何解决mysql stop fail的问题"> 如何解决mysql stop fail的问题 </a>
        </li>
        <li class="side_article_list_item">
            6.<a href="http://www.tuicool.com/articles/mui2E37" target="_blank" title="关于DButils的简单介绍"> 关于DButils的简单介绍 </a>
        </li>
    </ul>
</div>
</div>

<div style="position: fixed; top: 50px;" class="operate_zone">
    <div class="container-body share-body">
        <div class="article-part-title">
            <span>分享本文</span>
        </div>
        <div class="share_zone">
    <div data-bd-bind="1451212594786" class="bdsharebuttonbox bdshare-button-style1-24"> 
         <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
        <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
        <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
        <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
        <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
        <a href="#" class="bds_more" data-cmd="more"></a>
     </div>
    <script>
        window._bd_share_config = {
            "common" : {
                "bdSnsKey" : {
                    "tsina" : "3113829255",
                    "tqq" : "801536792"
                },
                "bdText" : "PHP 数据库驱动、连接数据不同方式梳理 - .Little Hann (分享自 @推酷网)",
                "bdMini" : "2",
                "bdMiniList" : false,
                "bdPic" : "",
                "bdStyle" : "1",
                "bdSize" : "24"
            },
            "share" : {}
        };
        with (document)
        0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];
    </script>
</div>
    </div>
        <div class="frd_pos">
        <script async="" src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/adsbygoogle.js"></script>
<ins data-adsbygoogle-status="done" class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7054762349007490" data-ad-slot="5705695566"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="250" width="300"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
</div>
         </div>
</div>

<div class="read-later-alert">
</div>
<div>
   <a href="#add-article-to-kan" id="add-article-to-kan-btn" class="btn" data-toggle="modal" style="display:none;">添加到推刊</a>
   <!-- add_article to kan -->
<div id="add-article-to-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <span class="add-title">收藏到推刊</span>
    <a href="#new-kan" class="btn pull-right" data-toggle="modal">创建推刊</a>
    <i class="clearfix"></i>
  </div>
  <div class="modal-body">
    <ul id="add-kan-list">
    </ul>
  </div>
  <div class="modal-footer">
    <input value="ze2Qru" class="article-id" type="hidden"> 
    <button class="btn btn-primary pull-left add-to-btn">  收 藏  </button>
    <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button>
  </div>
</div>
<div class="add-article-to-kan-alert">
  已收藏到推刊！
</div>

   <div id="new-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-body">
    <input name="name" id="new-kan-name" placeholder="推刊名(必填)" required="" data-validation-required-message="请填写推刊名" type="text">
    <span class="new-ness-name">请填写推刊名</span>
    <br>
    <textarea name="desc" id="desc" rows="6" placeholder="推刊描述"></textarea>
    <span class="new-ness-desc">描述不能大于100个字符!</span>
    <br>
    权限设置：<input name="type" value="1" checked="checked" type="radio"> 公开
    <input name="type" value="0" type="radio"> 仅自己可见
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary pull-left create-kan-btn" disabled="disabled">创建</button>
    <button class="btn dismiss-new-kan" data-dismiss="modal" aria-hidden="true">取消</button>
  </div>
</div>


</div>
<div id="article-correct-modal" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            ×
        </button>
        <h3>文章纠错</h3>
    </div>
    <div class="modal-body">
        <input value="ze2Qru" id="article-correct-source" type="hidden">
        <div>
            <label for="article-correct-email">
                邮箱地址
            </label>
            <input id="article-correct-email" class="input-large" type="email">
        </div>
        <div>
            <label for="article-correct-select">
                错误类型
            </label>
            <select id="article-correct-select">
                <option selected="selected" value="正文不准确">正文不准确</option>
                <option value="排版有问题">排版有问题</option>
                <option value="没有分页内容">没有分页内容</option>
                <option value="视频无法显示">视频无法显示</option>
                <option value="图片无法显示">图片无法显示</option>
            </select>
        </div>
        <div>
            <label for="article-correct-other">
                补充信息
            </label>
            <textarea id="article-correct-other" class="span6"></textarea>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary pull-right huodong_correct_submit" id="article-correct-submit">
            &nbsp;&nbsp;提交&nbsp;&nbsp;
        </button>
    </div>
</div>

<style type="text/css">
    .btn-large {
        padding: 0;
    }
    .load-fail {
        display: none;
    }
</style>
<script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/highlight.js"></script>
<script type="text/javascript">
    $('table').each(function(i) {
        var size = $(this).children().size();
        if (size > 1) {
            $(this).attr('class',"table table-bordered");
        } else if (size == 1) {
            var e11 = $(this).children(":first");
            var e1 = e11[0];
            var name = e1.nodeName.toLowerCase();
            if ("tbody" == name) {
                if (e11.children().size() > 1) {
                     $(this).attr('class',"table table-bordered");
                }
            }
        }
    });
            related_kan("ze2Qru");
        window.page = 0;
        window.last = 0;    
        window.first = true;
        resize_article_image('#nei', 550);
                load_comments("ze2Qru",1,0,-1);
                window.uid = -1;
        open_add_article_to_kan("false");
        async_do_zan_article(); 
        $('pre').each(function(i, e) {
            hljs.highlightBlock(e, "<span class='indent'>  </span>", false)
        });
       
          
       handle_follow_site("#my_follow","已订阅","+ 订阅");
</script>


  </div>

    <div class="footer">
    <div class="footer-inner">
    <dl class="about-link site-link">
        <dt>
            网站相关
        </dt>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/about">关于我们</a>
        </dd>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/mobile">移动应用</a>
        </dd>
        <dd>
            <a target="_blank" href="http://www.tuicool.com/bbs/go/issues">建议反馈</a>
        </dd>
    </dl>
    <dl class="site-link follow-link">
        <dt>
            关注我们
        </dt>
        <dd>
            <a target="_blank" href="http://e.weibo.com/tuicool2012"><img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/weibo-32.png">推酷网</a>
        </dd>
        <dd><img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/weixin-32.png">tuicool2012
        </dd>
    </dl>
    <dl class="site-link links">
        <dt>
            友情链接
        </dt>
        <dd>
                <a href="http://www.woshipm.com/" title="人人都是产品经理" target="_blank">人人都是产品经理</a>
                <a href="http://www.moobuu.com/" title="魔部网" target="_blank">魔部网</a>
                <a href="http://www.pm265.com/" title="PM256" target="_blank">PM256</a>
                <a href="http://www.pintu360.com/" title="品途网" target="_blank">品途网</a>
                <a href="http://www.yidonghua.com/" title="移动信息化" target="_blank">移动信息化</a>
                <a href="http://www.snsiu.com/" title="行晓网" target="_blank">行晓网</a>
                <a href="http://code4app.com/" title="Code4App" target="_blank">Code4App</a>
                <a href="http://www.taskcity.com/" title="智城外包网" target="_blank">智城外包网</a>
                <a href="http://blog.lamper.cn/" title="LAMP人" target="_blank">LAMP人</a>
                <a href="http://www.apkway.com/forum.php" title="安卓航班网" target="_blank">安卓航班网</a>
                <a href="http://www.huxiu.com/" title="虎嗅" target="_blank">虎嗅</a>
                <a href="http://www.ycpai.com/" title="缘创派" target="_blank">缘创派</a>
                <a href="http://www.iterduo.com/" title="IT耳朵" target="_blank">IT耳朵</a>
                <a href="http://www.iresearch.cn/" title="艾瑞网" target="_blank">艾瑞网</a>
                <a href="http://mediaworks.caixin.com/" title="创媒工场" target="_blank">创媒工场</a>
                <a href="http://www.leiphone.com/" title="雷锋网" target="_blank">雷锋网</a>
                <a href="http://www.managershare.com/" title="经理人分享" target="_blank">经理人分享</a>
                <a href="http://www.shichangbu.com/" title="市场部网" target="_blank">市场部网</a>
                <a href="http://www.ikanchai.com/" title="砍柴网" target="_blank">砍柴网</a>
                <a href="http://www.cocoachina.com/" title="CocoaChina" target="_blank">CocoaChina</a>
                <a href="http://www.ibeifeng.com/" title="北风网" target="_blank">北风网</a>
                <a href="http://www.jiankongbao.com/" title="云智慧" target="_blank">云智慧</a>
                <a href="http://www.wyzc.com/" title="我赢职场" target="_blank">我赢职场</a>
                <a href="http://www.thebigdata.cn/" title="大数据时代" target="_blank">大数据时代</a>
                <a href="http://www.qidic.com/" title="奇笛网" target="_blank">奇笛网</a>
                <a href="http://www.cngulu.com/" title="咕噜网" target="_blank">咕噜网</a>
                <a href="http://www.linuxdiyf.com/" title="红联linux" target="_blank">红联linux</a>
                <a href="http://win10.ithome.com/" title="Win10之家" target="_blank">Win10之家</a>
                <a href="http://www.niaogebiji.com/" title="鸟哥笔记" target="_blank">鸟哥笔记</a>
                <a href="http://www.play.cn/" title="爱游戏" target="_blank">爱游戏</a>
                <a href="http://www.investide.cn/" title="投资潮" target="_blank">投资潮</a>
                <a href="http://www.31huiyi.com/" title="31会议网" target="_blank">31会议网</a>
                <a href="https://www.jpush.cn/" title="极光推送" target="_blank">极光推送</a>
                <a href="https://www.teambition.com/" title="Teambition" target="_blank">Teambition</a>
                <a href="http://cn.cocos2d-x.org/" title="Cocos引擎中文官网" target="_blank">Cocos引擎中文官网</a>
                <a href="http://www.guigu.org/" title="硅谷网" target="_blank">硅谷网</a>
                <a href="https://home.leangoo.com/" title="leangoo" target="_blank">leangoo</a>
            <a href="http://www.tuicool.com/links">更多链接&gt;&gt;</a>&nbsp;&nbsp;
        </dd>
    </dl>
    <div class="clear"></div>
    </div>
</div>

<div style="display:none;">
   <script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/stat.php" language="JavaScript"></script><script src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=5541078" target="_blank" title="站长统计"><img src="PHP%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%90%8C%E6%96%B9%E5%BC%8F%E6%A2%B3%E7%90%86%20-%20.Little%20Hann%20-%20%E6%8E%A8%E9%85%B7_files/pic.gif" border="0" hspace="0" vspace="0"></a>
</div>




<div style="display: block;" title="返回顶部" class="return"></div></body></html>